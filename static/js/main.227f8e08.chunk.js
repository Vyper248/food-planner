(this["webpackJsonpfood-planner"]=this["webpackJsonpfood-planner"]||[]).push([[0],{27:function(n,e,t){},28:function(n,e,t){},34:function(n,e,t){"use strict";t.r(e);var i,r,o,c,a,l,d,s,u,b,p,h,j,x,f,O,m,g,v,y,k,C,w,E=t(1),S=t.n(E),I=t(17),T=t.n(I),D=(t(27),t(28),t(6)),L=t(3),A=t(4),_=t(9),M=t(0),N=A.a.div(i||(i=Object(L.a)(["\n    border-bottom: 1px solid gray;\n    background-color: white;\n    text-align: left;\n\n    & > a {\n        display: inline-block;\n        padding: 5px 10px;\n        text-decoration: none;\n        color: black;\n        border-right: 1px solid gray;\n    }\n\n    & > a:hover {\n        background-color: #EEE;\n    }\n\n    & > a.right {\n        float: right;\n        border-right: none;\n        border-left: 1px solid gray;\n    }\n"]))),F=function(){return Object(M.jsxs)(N,{children:[Object(M.jsx)(_.b,{to:"/",children:"Home"}),Object(M.jsx)(_.b,{to:"/shoppingList",children:"Shopping List"}),Object(M.jsx)(_.b,{to:"/items",children:"Items"}),Object(M.jsx)(_.b,{to:"/meals",children:"Meals"}),Object(M.jsx)(_.b,{to:"/settings",className:"right",children:"Settings"})]})},z=t(5),W=Object(E.createContext)({}),R=A.a.div(r||(r=Object(L.a)(["\n    max-width: 1200px;\n    margin: auto;\n"]))),P=t(2),B=t(21),q=["type","value","onChange","width","labelText","labelWidth","labelAlign"],Y=A.a.div(o||(o=Object(L.a)(["\n    margin: 5px;\n    height: 28px;\n    display: inline-flex;\n    white-space: nowrap;\n    position: relative;\n\n    & > label, & > input {\n        border: 1px solid #DDD;\n        height: 100%;\n        margin: 0px;\n        display: inline-flex;\n        align-items: center;\n        font-size: 1em;\n    }\n\n    & > label {\n        padding: 0px 10px;\n        background-color: rgb(239,239,239);\n        position: relative;\n        z-index: -1;\n        width: ",";\n        ","\n        ","\n        right: -25px; \n        padding-right: 35px; \n        margin-left: -25px; \n        border-radius: 20px 50px 50px 20px;\n    }\n\n    & > input {\n        padding: 5px;\n        border-radius: 5px;\n        width: ",";\n        ",";\n    }\n\n    & > input:focus {\n        outline: none;\n        border: 1px solid #66F;\n    }\n\n    & > input[type=button]:hover,\n    & > input[type=color]:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n\n    & > input[type=button] {\n        justify-content: center;\n        background-color: rgb(239,239,239);\n        padding: 0px;\n    }\n\n    & > input[type=color] {\n        padding: 2px 4px;\n    }\n\n    & > input[type=checkbox],\n    & > input[type=radio] {\n        width: 28px;\n        opacity: 0;\n        pointer-events: none;\n    }\n\n    & > input[type=radio] + span:hover,\n    & > input[type=checkbox] + span:hover {\n        cursor: pointer;\n    }\n\n    & > input[type=radio] + span {\n        display: inline-block;\n        border: 1px solid #DDD;\n        border-radius: 50%;\n        width: 28px;\n        height: 28px;\n        position: absolute;\n        right: 0px;\n        background-color: white;\n    }\n\n    & > input[type=radio]:checked + span:after {\n        content: '';\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        background-color: #077BFB;\n        position: absolute;\n        right: 5px;\n        top: calc(50% - 8px);\n    }\n\n    & > input[type=checkbox] + span {\n        display: inline-block;\n        border: 1px solid #DDD;\n        border-radius: 5px;\n        ",";\n        width: 28px;\n        height: 28px;\n        position: absolute;\n        right: 0px;\n        background-color: white;\n    }\n\n    & > input[type=checkbox]:checked + span {\n        background-color: #077BFB;\n    }\n\n    & > input[type=checkbox]:checked + span:after {\n        content: '';\n        width: 5px;\n        height: 15px;\n        position: absolute;\n        right: 8px;\n        top: 2px;\n        border-bottom: 5px solid white;\n        border-right: 5px solid white;\n        transform: rotate(45deg);\n    }\n"])),(function(n){return n.labelWidth?n.labelWidth+"px":""}),(function(n){return"right"===n.labelAlign?"justify-content: flex-end;":""}),(function(n){return"center"===n.labelAlign?"justify-content: center;":""}),(function(n){return n.width+"px"}),(function(n){return n.labelText?"border-radius: 0px 5px 5px 0px;":""}),(function(n){return n.labelText?"border-radius: 0px 5px 5px 0px;":""})),U=function(n){var e=n.type,t=void 0===e?"text":e,i=n.value,r=n.onChange,o=n.width,c=void 0===o?100:o,a=n.labelText,l=void 0===a?"":a,d=n.labelWidth,s=n.labelAlign,u=void 0===s?"right":s,b=Object(B.a)(n,q);"date"===t&&100===c&&(c=142);return Object(M.jsxs)(Y,{width:c,labelText:l&&l.length>0,labelWidth:d,labelAlign:u,children:[l&&l.length>0?Object(M.jsx)("label",{children:l}):Object(M.jsx)("span",{}),Object(M.jsx)("input",Object(P.a)({type:t,value:i,onChange:function(n){if("number"===t){var e=parseFloat(n.target.value);isNaN(e)&&(e=""),r(e)}else r(n.target.value)},checked:"checkbox"===t&&!!i},b)),Object(M.jsx)("span",{onClick:function(){"checkbox"===t?r(!i):"radio"===t&&r(i)}})]})},H=A.a.table(c||(c=Object(L.a)(["\n    border-collapse: collapse;\n    width: auto;\n    margin: auto;\n\n    th, td {\n        padding: 7px 10px;\n        ",";\n        ",";\n        border-right: 1px solid #CCC;\n        height: 1px;\n    }\n\n    td.input {\n        padding: 0px;\n    }\n\n    thead {\n        th:first-child {\n            border-top-left-radius: 5px;\n        }\n    \n        th:last-child {\n            border-top-right-radius: 5px;\n        }\n    \n        th {\n            border-bottom: 1px solid black;\n            background-color: #DDD;\n            min-width: 100px;\n        }\n    \n        th:last-child,\n        td:last-child {\n            border-right: none;\n        }\n    }\n\n    tr:last-child {\n        border-bottom: none;\n    }\n\n    tr:nth-child(2n) td {\n        background-color: #EEE;\n    }\n"])),(function(n){return"small"===n.size?"padding: 4px 7px;":""}),(function(n){return"large"===n.size?"padding: 10px 15px;":""})),G=A.a.div(a||(a=Object(L.a)(["\n    background-color: ",";\n    color: ",";\n    width: ",";\n    border-radius: 5px;\n    padding: 5px;\n    margin: ",";\n    display: inline-block;\n    height: 28px;\n\n    & > svg {\n        font-size: 1.5em;\n        position: relative;\n        top: -2px;\n    }\n\n    &:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n"])),(function(n){return n.color}),(function(n){return n.textColor?n.textColor:"black"}),(function(n){return n.width?n.width:"150px"}),(function(n){return n.margin?n.margin:"5px"})),K=function(n){var e=n.label,t=void 0===e?"":e,i=n.onClick,r=void 0===i?function(){}:i,o=n.color,c=void 0===o?"#CCC":o,a=n.textColor,l=n.width,d=n.margin;return Object(M.jsx)(G,{color:c,textColor:a,width:l,margin:d,onClick:r,children:t})},J=A.a.div(l||(l=Object(L.a)(["\n    margin: 5px;\n    height: 28px;\n    display: inline-flex;\n    white-space: nowrap;\n    position: relative;\n\n    & > label {\n        border: 1px solid #DDD;\n        height: 100%;\n        margin: 0px;\n        display: inline-flex;\n        align-items: center;\n        font-size: 1em;\n        padding: 0px 10px;\n        background-color: rgb(239,239,239);\n        position: relative;\n        z-index: -1;\n        width: ",";\n        ","\n        ","\n        right: -25px; \n        padding-right: 35px; \n        margin-left: -25px; \n        border-right: none; \n        border-radius: 5px 0px 0px 5px;\n        justify-content: end;\n    }\n\n    & > select {\n        border: 1px solid #DDD;\n        background-color: white;\n        -webkit-appearance:none;\n        height: 100%;\n        margin: 0px;\n        display: inline-flex;\n        align-items: center;\n        font-size: 1em;\n        padding: 0px 25px 0px 5px;\n        border-radius: 5px;\n        width: ",";\n        ",";\n        text-overflow: ellipsis;\n    }\n\n    &::after {\n        content: '';\n        position: absolute;\n        right: 8px;\n        top: calc(50% - 5px);\n        border-top: 10px solid black;\n        border-left: 6px solid transparent;\n        border-right: 6px solid transparent;\n    }\n\n    & > select:hover {\n        cursor: pointer;\n    }\n\n    & > select:focus {\n        outline: none;\n    }\n"])),(function(n){return n.labelWidth?n.labelWidth+"px":""}),(function(n){return"right"===n.labelAlign?"justify-content: flex-end;":""}),(function(n){return"center"===n.labelAlign?"justify-content: center;":""}),(function(n){return n.width+"px"}),(function(n){return n.labelText?"border-radius: 0px 5px 5px 0px;":""})),X=function(n){var e,t=n.placeholder,i=void 0===t?"Select an Option":t,r=n.labelText,o=void 0===r?"":r,c=n.width,a=void 0===c?150:c,l=n.labelWidth,d=n.value,s=n.options,u=void 0===s?[]:s,b=n.onChange;if(Array.isArray(u)&&0===u.length)return Object(M.jsxs)(J,{width:a,labelText:o&&o.length>0,children:[o&&o.length>0?Object(M.jsx)("label",{children:o}):null,Object(M.jsx)("select",{children:Object(M.jsx)("option",{hidden:!0,children:"No More Items"})})]});Array.isArray(u)&&"string"===typeof u[0]&&(e="basic"),Array.isArray(u)&&"object"===typeof u[0]&&(e="advanced"),"object"!==typeof u||Array.isArray(u)||(e="groups");var p=function(n){var e=n.target.value;b(e)};return"basic"===e?Object(M.jsxs)(J,{width:a,labelWidth:l,labelText:o&&o.length>0,children:[o&&o.length>0?Object(M.jsx)("label",{children:o}):null,Object(M.jsxs)("select",{value:d,onChange:p,children:[Object(M.jsx)("option",{hidden:!0,value:void 0,children:i}),u.map((function(n){return Object(M.jsx)("option",{value:n,children:n},"dropdown-".concat(n))}))]})]}):"advanced"===e?Object(M.jsxs)(J,{width:a,labelWidth:l,labelText:o&&o.length>0,children:[o&&o.length>0?Object(M.jsx)("label",{children:o}):null,Object(M.jsxs)("select",{value:d,onChange:p,children:[Object(M.jsx)("option",{hidden:!0,value:void 0,children:i}),u.map((function(n){return Object(M.jsx)("option",{value:n.value,children:n.display},"dropdown-".concat(n.value))}))]})]}):"groups"===e?Object(M.jsxs)(J,{width:a,labelWidth:l,labelText:o&&o.length>0,children:[o&&o.length>0?Object(M.jsx)("label",{children:o}):null,Object(M.jsxs)("select",{value:d,onChange:p,children:[Object(M.jsx)("option",{hidden:!0,value:void 0,children:i}),Object.keys(u).map((function(n){var e=u[n],t="basic";return"object"===typeof e[0]&&(t="advanced"),"basic"===t?Object(M.jsx)("optgroup",{label:n,children:e.map((function(n){return Object(M.jsx)("option",{value:n,children:n},"dropdown-".concat(n))}))},"dropdown-group-".concat(n)):"advanced"===t?Object(M.jsx)("optgroup",{label:n,children:e.map((function(n){return Object(M.jsx)("option",{value:n.value,children:n.display},"dropdown-".concat(n.value))}))},"dropdown-group-".concat(n)):null}))]})]}):null},Q=A.a.div(d||(d=Object(L.a)(["\n    & tr {\n        border: 1px solid #CCC !important;\n    }\n"]))),V=function(){var n=Object(E.useContext)(W),e=n.stockList,t=void 0===e?[]:e,i=n.items,r=n.dispatch,o=Object(E.useState)(""),c=Object(z.a)(o,2),a=c[0],l=c[1],d=Object(E.useState)([]),s=Object(z.a)(d,2),u=s[0],b=s[1];Object(E.useEffect)((function(){var n,e=i.filter((function(n){return!t.find((function(e){return e.id===n.id}))})),r=null===(n=e[0])||void 0===n?void 0:n.id;l(r),b(e)}),[t,i]);var p=function(n){return function(){r({type:"DELETE_STOCK",payload:{id:n}})}};return Object(M.jsxs)(Q,{children:[Object(M.jsx)("h3",{children:"Current Stock"}),Object(M.jsxs)(R,{children:[Object(M.jsxs)("div",{children:[Object(M.jsx)(X,{labelText:"Item",value:a,options:u.map((function(n){return{value:n.id,display:n.name}})),onChange:l}),Object(M.jsx)(K,{label:"Add",onClick:function(){var n=i.find((function(n){return n.id===a}));if(n){var e={id:n.id,name:n.name,measurement:n.measurement,stock:1};r({type:"ADD_STOCK",payload:e})}}}),Object(M.jsx)(K,{label:"Clear Stock",onClick:function(){r({type:"CLEAR_STOCK"})}})]}),Object(M.jsx)("br",{}),Object(M.jsx)("div",{children:"After adding an item, input the current quantity of individual items (or weight)"}),Object(M.jsx)("br",{}),Object(M.jsx)(H,{children:Object(M.jsx)("tbody",{children:t.map((function(n){return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"input",children:Object(M.jsx)(U,{type:"number",width:"60",value:n.stock,onChange:(e=n.id,function(n){var i=t.find((function(n){return n.id===e}));r({type:"EDIT_STOCK",payload:Object(P.a)(Object(P.a)({},i),{},{stock:n})})})})}),Object(M.jsx)("td",{style:{minWidth:"61px"},children:n.measurement}),Object(M.jsx)("td",{style:{minWidth:"200px"},children:n.name}),Object(M.jsx)("td",{className:"input",children:Object(M.jsx)(K,{label:"Remove",width:"80px",onClick:p(n.id)})})]},"stockItem-"+n.id);var e}))})})]})]})},Z=A.a.tr(s||(s=Object(L.a)(["\n    width: 500px;\n    border: 1px solid #CCC !important;\n\n    & > td#checkbox > div {\n        margin: 0px;\n        height: 25px;\n    }\n"]))),$=function(n){var e=n.qty,t=n.name,i=n.checked,r=void 0!==i&&i,o=n.onClickCheckbox;return Object(M.jsxs)(Z,{children:[Object(M.jsx)("td",{id:"checkbox",children:Object(M.jsx)(U,{type:"checkbox",value:r,onChange:o})}),Object(M.jsx)("td",{id:"qty",children:e}),Object(M.jsx)("td",{id:"name",style:{width:"300px"},children:t})]})},nn=function(){var n=Object(E.useContext)(W),e=n.planner,t=n.meals,i=n.items,r=n.shoppingList,o=n.stockList,c=n.dispatch,a=Object(E.useState)([]),l=Object(z.a)(a,2),d=l[0],s=l[1];Object(E.useEffect)((function(){var n=p(e.dailyMeals);b(n,r),s(n)}),[e,o]);var u=function(n,e){var i,r=(i=e,t.find((function(n){return n.id===i})));r&&r.itemList.forEach((function(e){void 0===n[e.id]&&(n[e.id]=0),n[e.id]+=e.qty}))},b=function(n,e){n.forEach((function(n){!0===e[n.id]&&(n.checked=!0)}))},p=function(n){var e={},t=[];return n.forEach((function(n){n.forEach((function(n){u(e,n.breakfastId),u(e,n.lunchId),u(e,n.dinnerId)}))})),Object.keys(e).forEach((function(n){var r=function(n,e){var t=i.find((function(e){return e.id===n}));if(!t)return 0;var r=o.find((function(e){return e.id===n}));r&&(e-=r.stock);var c=e/t.size;return{qty:Math.ceil(c),name:t.name,checked:!1,id:n}}(n,e[n]);t.push(r)})),t};return Object(M.jsxs)("div",{children:[Object(M.jsx)("h3",{children:"Shopping List"}),Object(M.jsxs)(R,{children:[Object(M.jsx)(K,{label:"Clear All",onClick:function(){c({type:"CLEAR_SHOPPING_LIST"});var n=d.map((function(n){return n.checked=!1,n}));s(n)}}),Object(M.jsxs)(H,{children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{style:{minWidth:"50px"}}),Object(M.jsx)("th",{style:{minWidth:"60px"},children:"Qty"}),Object(M.jsx)("th",{children:"Item"})]})}),Object(M.jsx)("tbody",{children:d.map((function(n){return Object(M.jsx)($,{name:n.name,qty:n.qty,checked:n.checked,onClickCheckbox:(e=n.id,function(){var n=d.map((function(n){return n.id===e&&(n.checked=!n.checked,n.checked?c({type:"SET_SHOPPING_LIST_ITEM_TRUE",payload:e}):n.checked||c({type:"SET_SHOPPING_LIST_ITEM_FALSE",payload:e})),n}));s(n)})},"listItem-"+n.id);var e}))})]})]}),Object(M.jsx)(V,{})]})},en=t(7),tn=A.a.div(u||(u=Object(L.a)(["\n    display: inline-block;\n    margin: 5px;\n    background-color: #FFF;\n    border: 1px solid #AAA;\n    border-radius: 5px;\n    width: ",";\n    box-shadow: 1px 1px 3px #BBB;\n\n    & header {\n        font-weight: bold;\n        padding: 10px;\n        border-bottom: 1px solid #AAA;\n    }\n\n    & footer {\n        border-top: 1px solid #AAA;\n    }\n"])),(function(n){return n.width})),rn=function(n){var e=n.children,t=n.width,i=void 0===t?"max-content":t;return Object(M.jsx)(tn,{width:i,children:e})},on=A.a.table(b||(b=Object(L.a)(["\n    border-collapse: collapse;\n    width: auto;\n\n    th, td {\n        padding: 7px 10px;\n        ",";\n        ",";\n        border-right: 1px solid #CCC;\n    }\n\n    th:first-child {\n        border-top-left-radius: 5px;\n    }\n\n    th:last-child {\n        border-top-right-radius: 5px;\n    }\n\n    th {\n        border-bottom: 1px solid black;\n        background-color: #DDD;\n        min-width: 100px;\n    }\n\n    th:last-child,\n    td:last-child {\n        border-right: none;\n    }\n\n    tr:last-child {\n        border-bottom: none;\n    }\n\n    tr:nth-child(2n) td {\n        background-color: #EEE;\n    }\n"])),(function(n){return"small"===n.size?"padding: 4px 7px;":""}),(function(n){return"large"===n.size?"padding: 10px 15px;":""})),cn=A.a.div(p||(p=Object(L.a)(["\n    display: inline-flex;\n    flex-direction: column;\n    align-items: flex-start;\n    margin: 5px;\n\n    & > h4 {\n        align-self: center;\n        margin: 5px;\n    }\n"]))),an=function(n){var e=n.tableHeading,t=void 0===e?"":e,i=n.header,r=void 0===i?[]:i,o=n.data,c=void 0===o?[]:o,a=n.size,l=void 0===a?"medium":a;return Object(M.jsxs)(cn,{children:[t.length>0?Object(M.jsx)("h4",{children:t}):null,Object(M.jsxs)(on,{size:l,children:[Object(M.jsx)("thead",{children:Object(M.jsx)("tr",{children:r.map((function(n,e){return Object(M.jsx)("th",{children:n},"thead-".concat(e,"-").concat(n))}))})}),Object(M.jsx)("tbody",{children:c.map((function(n,e){return Object(M.jsx)("tr",{children:n.map((function(n,e){return Object(M.jsx)("td",{children:n},"tdata-".concat(e,"-").concat(n))}))},"tbody-".concat(e))}))})]})]})},ln=function(n,e){return n.tableHeading===e.tableHeading&&(n.size===e.size&&((!n.header||n.header.toString()===e.header.toString())&&(!n.data||n.data.toString()===e.data.toString())))},dn=Object(E.memo)(an,ln),sn=A.a.div(h||(h=Object(L.a)(["\n    background-color: ",";\n    color: ",";\n    width: ",";\n    border-radius: 5px;\n    margin: ",";\n    display: inline-block;\n    position: relative;\n\n    & .label {\n        transition: 0.3s;\n        padding: 5px;\n    }\n\n    & .label:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n\n    & .confirmation.visible {\n        opacity: 1;\n        pointer-events: all;\n        transition: 0.3s opacity;\n    }\n\n    & > .confirmation {\n        position: absolute;\n        width: 120px;\n        padding: 5px;\n        border: 1px solid black;\n        border-radius: 5px;\n        transition: 0.3s opacity;\n        opacity: 0;\n        pointer-events: none;\n        color: black;\n        background-color: white;\n    }\n\n    & > .confirmation.top {\n        bottom: calc(100% + 5px);\n        left: 50%;\n        transform: translateX(-50%);\n    }\n\n    & > .confirmation.bottom {\n        top: calc(100% + 5px);\n        left: 50%;\n        transform: translateX(-50%);\n    }\n\n    & > .confirmation.left {\n        right: calc(100% + 5px);\n        top: 50%;\n        transform: translateY(-50%);\n    }\n\n    & > .confirmation.right {\n        left: calc(100% + 5px);\n        top: 50%;\n        transform: translateY(-50%);\n    }\n\n    & .confirmation::after {\n        content: '';\n        display: block;\n        width: 8px;\n        height: 8px;\n        background-color: white;\n        position: absolute;\n        border-left: 1px solid black;\n        border-bottom: 1px solid black;\n    }\n\n    & .confirmation.top::after {\n        bottom: -5px;\n        left: 50%;\n        transform:  translateX(-50%) rotate(-45deg);\n    }\n\n    & .confirmation.bottom::after {\n        top: -5px;\n        left: 50%;\n        transform:  translateX(-50%) rotate(135deg);\n    }\n\n    & .confirmation.left::after {\n        right: -5px;\n        top: 50%;\n        transform:  translateY(-50%) rotate(-135deg);\n    }\n\n    & .confirmation.right::after {\n        left: -5px;\n        top: 50%;\n        transform:  translateY(-50%) rotate(45deg);\n    }\n\n    & > .confirmation span {\n        margin-bottom: 5px;\n    }\n\n    & > .confirmation > div {\n        display: inline-block;\n        padding: 4px;\n        width: 50px;\n        background-color: ",";\n        color: ",";\n        border-radius: 5px;\n        margin-top: 5px;\n    }\n\n    & .confirm {\n        background-color: lightgreen !important;\n    }\n\n    & > .confirmation > div:first-of-type {\n        margin-right: 5px;\n    }\n\n    & .confirm:hover, & .cancel:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n"])),(function(n){return n.color}),(function(n){return n.textColor?n.textColor:"black"}),(function(n){return n.width?n.width:"150px"}),(function(n){return n.margin?n.margin:"5px"}),(function(n){return n.color}),(function(n){return n.textColor?n.textColor:"black"})),un=function(n){var e=n.label,t=void 0===e?"":e,i=n.onClick,r=void 0===i?function(){}:i,o=n.color,c=void 0===o?"#CCC":o,a=n.textColor,l=n.width,d=n.margin,s=n.direction,u=void 0===s?"top":s,b=Object(E.useState)(!1),p=Object(z.a)(b,2),h=p[0],j=p[1],x=Object(E.useState)(u),f=Object(z.a)(x,2),O=f[0],m=f[1],g=Object(E.useRef)(null);Object(E.useEffect)((function(){var n=function(n){g.current&&!g.current.contains(n.target)&&h&&j(!1)};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[g,h]);var v=function(){var n=g.current.getBoundingClientRect(),e=n.x>130,t=window.innerWidth-(n.x+n.width)>130,i=n.y>70,r=window.innerHeight-(n.y+n.height)>70,o={top:i,bottom:r,left:e,right:t};u!==O&&o[u]&&m(u),e||"left"!==u||m(y(o)),t||"right"!==u||m(y(o)),i||"top"!==u||m(y(o)),r||"bottom"!==u||m(y(o))},y=function(n){for(var e in n)if(n[e])return e;return u};return Object(M.jsxs)(sn,{color:c,textColor:a,width:l,margin:d,children:[Object(M.jsx)("div",{ref:g,className:"label",onClick:function(){v(),j(!0)},children:Object(M.jsx)("div",{children:t})}),Object(M.jsxs)("div",{className:"confirmation".concat(h?" visible":""," ").concat(O),children:[Object(M.jsx)("span",{children:"Are you sure?"}),Object(M.jsx)("div",{className:"confirm",onClick:function(){j(!1),r()},children:"Yes"}),Object(M.jsx)("div",{className:"cancel",onClick:function(){j(!1)},children:"No"})]})]})},bn=A.a.div(j||(j=Object(L.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    margin: 5px;\n    grid-gap: 5px;\n"])),(function(n){return n.columnTemplate})),pn=function(n){var e=n.children,t=n.columnTemplate,i=void 0===t?"1fr 1fr":t;return Object(M.jsx)(bn,{columnTemplate:i,children:e})},hn=A.a.div(x||(x=Object(L.a)(["\n    opacity: ",";\n    transition: 0.4s;\n\n    & > div#background {\n        position: fixed;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        background-color: black;\n        opacity: ",";\n        ",";\n        z-index: 10;\n        transition: 0.4s;\n    }\n\n    & > #content {\n        position: fixed;\n        background-color: #FFF;\n        border: 1px solid #AAA;\n        border-radius: 5px;\n        width: ",";\n        max-width: calc(100% - 40px);\n        top: 50%;\n        left: 50%;\n        transform: ",";\n        z-index: 11;\n        transition: 0.4s;\n        box-shadow: 2px 2px 10px #666;\n    }\n\n    & section {\n        max-height: calc(100vh - 300px);\n        overflow: scroll;\n        padding: 10px;\n    }\n\n    & h4, & h3, & h2, & h1 {\n        margin: 0px 0px 0px 0px;\n    }\n\n    & header {\n        padding: 10px;\n        border-bottom: 1px solid #AAA;\n    }\n\n    & footer {\n        border-top: 1px solid #AAA;\n    }\n"])),(function(n){return n.open?1:0}),(function(n){return n.open?.3:0}),(function(n){return n.open?"":"pointer-events: none"}),(function(n){return n.width}),(function(n){return n.open?"translate(-50%, -50%) scale(1)":"translate(-50%, -50%) scale(0)"})),jn=function(n){var e=n.children,t=n.open,i=n.darken,r=void 0===i||i,o=n.width,c=void 0===o?"500px":o,a=n.closeFunc,l=void 0===a?function(){}:a,d=n.closeOnClickOutside,s=void 0!==d&&d,u=Object(E.useRef)(null),b=Object(E.useState)(t),p=Object(z.a)(b,2),h=p[0],j=p[1];if(Object(E.useEffect)((function(){var n=function(n){u.current&&!u.current.contains(n.target)&&t&&s&&l()};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[u,t]),t&&!h)window.scrollY>0&&(document.body.style.top="-".concat(window.scrollY,"px")),document.body.style.position="fixed",document.body.style.width="100%",j(!0);else if(!t&&h){var x=-1*parseInt(document.body.style.top||"0");document.body.style.top="",document.body.style.position="",document.body.style.width="",x>0&&window.scrollTo(0,x),j(!1)}return Object(M.jsxs)(hn,{open:t,width:c,children:[r?Object(M.jsx)("div",{id:"background"}):null,Object(M.jsx)("div",{id:"content",ref:u,children:e})]})},xn=function(n){var e=n.item,t=void 0===e?{}:e,i=n.editing,r=void 0!==i&&i,o=n.onFinish,c=n.onCancel,a=Object(E.useState)(t.name||""),l=Object(z.a)(a,2),d=l[0],s=l[1],u=Object(E.useState)(t.size||0),b=Object(z.a)(u,2),p=b[0],h=b[1],j=Object(E.useState)(t.measurement||"g"),x=Object(z.a)(j,2),f=x[0],O=x[1],m=Object(E.useState)(t.calories||0),g=Object(z.a)(m,2),v=g[0],y=g[1];if(r&&void 0===t.name)return null;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("header",{style:{fontWeight:"bold"},children:r?Object(M.jsx)("span",{children:d}):"New Item"}),Object(M.jsxs)("section",{children:[Object(M.jsx)(U,{type:"text",autoFocus:!0,placeholder:"Item Name",labelText:"Name",labelWidth:"150",value:d,onChange:function(n){return s(n)}}),Object(M.jsx)("br",{}),Object(M.jsxs)(pn,{columnTemplate:"1fr 1fr",children:[Object(M.jsx)(U,{type:"number",labelText:"Size",labelWidth:"150",value:p,onChange:function(n){return h(n)}}),Object(M.jsx)(X,{labelText:"Measurement",value:f,labelWidth:"150",width:"100",options:["g","ml"," items"],onChange:function(n){return O(n)}}),Object(M.jsx)(U,{type:"number",labelText:"Calories",labelWidth:"150",value:v,onChange:function(n){return y(n)}})]})]}),Object(M.jsxs)("footer",{children:[Object(M.jsx)(K,{label:"Save",onClick:function(){if(""!==d&&0!==p){var n=Object(P.a)(Object(P.a)({},t),{},{name:d,size:p,measurement:f,calories:v});o(n)}}}),Object(M.jsx)(K,{label:"Cancel",onClick:c})]})]})},fn=A.a.div(f||(f=Object(L.a)(["\n\n"]))),On=function(){var n=Object(E.useContext)(W),e=n.items,t=n.meals,i=n.dispatch,r=Object(E.useState)("Name"),o=Object(z.a)(r,2),c=o[0],a=o[1],l=Object(E.useState)(!1),d=Object(z.a)(l,2),s=d[0],u=d[1],b=Object(E.useState)(!1),p=Object(z.a)(b,2),h=p[0],j=p[1],x=Object(E.useState)(void 0),f=Object(z.a)(x,2),O=f[0],m=f[1],g=function(n){return function(){m(n),u(!0)}},v=function(){u(!1),j(!1)},y=function(n){return function(){i({type:"DELETE_ITEM",payload:n})}},k=function(n){for(var e=!0,i=0;i<t.length;i++){if(void 0!==t[i].itemList.find((function(e){return e.id===n.id}))){e=!1;break}}return e},C=function(n,e){return Object(en.a)(e).sort((function(e,t){return"Name"===n?e.name<t.name?-1:1:"Size"===n?e.size-t.size:"Calories"===n?e.calories-t.calories:"Portions"===n?e.portions-t.portions:0}))}(c,e);return Object(M.jsxs)(fn,{children:[Object(M.jsx)("h3",{children:"Items"}),Object(M.jsxs)(R,{children:[Object(M.jsxs)(pn,{columnTemplate:"1fr 1fr 1fr",children:[Object(M.jsx)("div",{}),Object(M.jsx)("div",{children:Object(M.jsx)(K,{label:"Add New Item",color:"lightblue",onClick:function(){j(!0)}})}),Object(M.jsx)("div",{children:Object(M.jsx)(X,{labelText:"Sort By",value:c,options:["Name","Calories","Size"],onChange:function(n){a(n)}})})]}),C.map((function(n){return Object(M.jsxs)(rn,{children:[Object(M.jsx)("header",{children:n.name}),Object(M.jsx)("section",{children:Object(M.jsx)(dn,{data:[["Size",n.size+n.measurement],["Calories",n.calories]]})}),Object(M.jsxs)("footer",{children:[Object(M.jsx)(K,{label:"Edit",onClick:g(n),width:"80px",color:"lightblue"}),k(n)?Object(M.jsx)(un,{label:"Delete",width:"80px",color:"red",onClick:y(n)}):null]})]},n.id)})),Object(M.jsx)("p",{children:"Note: You can't delete an item being used in a meal."})]}),Object(M.jsx)(jn,{open:s,closeFunc:v,children:s?Object(M.jsx)(xn,{item:O,editing:!0,onFinish:function(n){u(!1),m(void 0),i({type:"EDIT_ITEM",payload:n})},onCancel:v}):null}),Object(M.jsx)(jn,{open:h,closeFunc:v,children:h?Object(M.jsx)(xn,{onFinish:function(n){i({type:"ADD_ITEM",payload:n}),j(!1)},onCancel:v}):null})]})},mn=t(15),gn=Object(A.a)(H)(O||(O=Object(L.a)(["\n    margin-top: 20px;\n    border-collapse: separate;\n    border-spacing: 0;\n\n    & tr > td:not(:first-child) {\n        padding: 0px;\n        width: 200px;\n    }\n\n    thead > tr > th:first-child {\n        background-color: transparent;\n        border: 1px solid transparent;\n\n        & > div {\n            height: 30px;\n        }\n    }\n\n    thead > tr > th:nth-child(2) {\n        border-top-left-radius: 5px;\n        border-left: 1px solid #CCC;\n    }\n\n    thead > tr > th:last-child {\n        border-right: 1px solid #CCC;\n    }\n\n    thead > tr > th {\n        border-top: 1px solid #CCC;\n        border-right: 1px solid #CCC;\n    }\n\n    tbody > tr > td:first-child {\n        background-color: #DDD;\n        border-bottom: 1px solid #CCC;\n        border-left: 1px solid #CCC;\n        font-weight: bold;\n    }\n\n    tbody > tr:nth-last-child(2) > td:first-child {\n        border-bottom: none;\n    }\n\n    tbody > tr:first-child > td:first-child {\n        border-top-left-radius: 5px;\n        border-top: 1px solid #CCC;\n    }\n\n    tbody > tr.hidden > td {\n        background-color: transparent;\n        border: none;\n        border-top: 1px solid #CCC;\n        \n        & > div {\n            height: 30px;\n        }\n    }\n"]))),vn=A.a.ul(m||(m=Object(L.a)(["\n    text-align: left;\n    border: 1px solid #DDD;\n    border-radius: 5px;\n    padding: 0px;\n    display: inline-block;\n    width: ",";\n    margin: 5px;\n\n    & > li {\n        border-bottom: 1px solid #DDD;\n        padding: 5px;\n        list-style: none;\n    }\n\n    & > li:last-child {\n        border-bottom: none;\n    }\n\n    & > h4 {\n        margin: 0px;\n        border-bottom: 1px solid #DDD;\n        padding: 5px;\n        text-align: center;\n        background-color: #DDD;\n    }\n"])),(function(n){return n.width})),yn=function(n){var e=n.children,t=n.width,i=void 0===t?"150px":t,r=n.heading,o=void 0===r?"":r;return Object(M.jsxs)(vn,{width:i,children:[o.length>0?Object(M.jsx)("h4",{children:o}):null,e]})},kn=A.a.div(g||(g=Object(L.a)(["\n    position: relative;\n    transition: 0.3s;\n    height: 100%;\n\n    & > div#name {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        width: 100%;\n        height: 100%;\n        padding: 7px 10px;\n        transition: 0.3s;\n        border: 1px solid transparent;\n        outline: 1px solid transparent;\n        outline-offset: 0px;\n        ",";\n\n        :hover {\n            cursor: pointer;\n        }\n    }\n\n    & div#meal {\n        display: flex;\n        height: 100%;\n        align-items: center;\n    }\n\n    & div#calories {\n        font-size: 0.8em;\n        color: gray;\n        position: relative;\n        top: 5px;\n    }\n\n    & > div#name.switching {\n        transition: 0.3s;\n        outline: 1px solid #AAA;\n        outline-offset: -3px;\n\n        :hover {\n            background-color: #CCC;\n        }\n    }\n\n    & > div#name.switchTarget {\n        border: 1px solid blue;\n        transition: 0.3s;\n    }\n\n    & > div.notSwitching {\n        background-color: #DDD;\n        color: #AAA;\n        cursor: not-allowed !important;\n        transition: 0.3s;\n    }\n\n    & > div#dropdown {\n        position: absolute;\n        background-color: white;\n        border: 1px solid blue;\n        width: 300px;\n        left: 50%;\n        top: calc(100% - 1px);\n        transform: translateX(-50%);\n        z-index: 2;\n\n        h4 {\n            margin: 5px;\n        }\n\n        ul {\n            width: calc(100% - 10px);\n\n            li:hover {\n                cursor: pointer;\n                background-color: #EEE;\n            }\n        }\n    }\n\n"])),(function(n){return n.open?"border: 1px solid blue;":""})),Cn=function(n){var e=n.id,t=n.type,i=n.open,r=n.dayId,o=n.onChooseMeal,c=n.onClick,a=n.onClose,l=n.moveUp,d=n.moveDown,s=n.onSwitchStart,u=n.onSwitchEnd,b=n.switching,p=n.switchId,h=n.switchType,j=Object(E.useContext)(W),x=j.meals,f=j.items,O=j.planner.showCalories,m=Object(E.useRef)(null);Object(E.useEffect)((function(){var n=function(n){m.current&&!m.current.contains(n.target)&&i&&a()};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[m,i]);var g=x.filter((function(n){return n.type===t})),v=0,y=x.find((function(n){return n.id===e}));y&&(v=y.itemList.map((function(n){var e=f.find((function(e){return e.id===n.id}));return e?Object(P.a)(Object(P.a)({},e),{},{qty:n.qty}):{}})).reduce((function(n,e){return n+parseInt(e.calories/e.size*e.qty)}),0));var k=function(){var n="breakfastId";return"Lunch"===t&&(n="lunchId"),"Dinner"===t&&(n="dinnerId"),n},C=t===h&&b?"switching":"";return r===p&&t===h&&b&&(C="switchTarget"),b&&t!==h&&(C="notSwitching"),Object(M.jsxs)(kn,{open:i,children:[Object(M.jsxs)("div",{id:"name",className:C,onClick:function(){if(b&&t===h)u(r,k()),a();else{if(b&&t!==h)return;c()}},children:[Object(M.jsx)("div",{id:"meal",children:null===y||void 0===y?void 0:y.name}),O&&v>0?Object(M.jsxs)("div",{id:"calories",children:[v,"kcal"]}):null]}),i?Object(M.jsxs)("div",{id:"dropdown",ref:m,children:[Object(M.jsx)("h4",{children:"Choose a Meal"}),Object(M.jsxs)("div",{children:[Object(M.jsx)(K,{label:"Up",onClick:function(){l(r,k(),t)},width:"50px"}),Object(M.jsx)(K,{label:"Down",onClick:function(){d(r,k(),t)},width:"60px"}),Object(M.jsx)(K,{label:"Switch",onClick:function(){s(r,t)},width:"70px"}),Object(M.jsx)(K,{label:"Clear",onClick:function(){var n=k();o(r,n,0),a()},width:"70px"})]}),Object(M.jsx)(yn,{children:g.map((function(n,e){return Object(M.jsx)("li",{onClick:(t=n.id,function(){var n=k();o(r,n,t),a()}),children:n.name},n.id);var t}))})]}):null]})},wn=A.a.div(v||(v=Object(L.a)(["\n\n"]))),En=function(n){var e=n.dailyMeals,t=n.allMeals,i=Object(E.useContext)(W),r=i.planner,o=i.meals,c=i.dispatch,a=r.days,l=Object(E.useState)(0),d=Object(z.a)(l,2),s=d[0],u=d[1],b=Object(E.useState)(!1),p=Object(z.a)(b,2),h=p[0],j=p[1],x=Object(E.useState)(0),f=Object(z.a)(x,2),O=f[0],m=f[1],g=Object(E.useState)(""),v=Object(z.a)(g,2),y=v[0],k=v[1],C=o.filter((function(n){return"Breakfast"===n.type})),w=o.filter((function(n){return"Lunch"===n.type})),S=o.filter((function(n){return"Dinner"===n.type}));C.unshift({id:0,name:"Empty"}),w.unshift({id:0,name:"Empty"}),S.unshift({id:0,name:"Empty"});var I=function(n){return function(){u(n)}},T=function(){u(0)},D=function(n,t,i){var r=e.find((function(e){return e.id===n})),o=Object(P.a)({},r);o[t]=i,c({type:"EDIT_PLANNER_MEAL",payload:o})},L=function(n,e){j(!0),m(n),k(e),T()},A=function(n,t){if(O!==n){var i=e.find((function(n){return n.id===O})),r=e.find((function(e){return e.id===n}));R(i,r,t,y),j(!1)}else j(!1)},_=function(n,t,i){var r=e.find((function(e){return e.id===n}));if(void 0!==r){var o=e.indexOf(r),c=o>0?o-1:e.length-1,a=e[c];R(r,a,t,i)}},N=function(n,t,i){var r=e.find((function(e){return e.id===n}));if(void 0!==r){var o=e.indexOf(r),c=o<e.length-1?o+1:0,a=e[c];R(r,a,t,i)}},F=function(n){var i=t.indexOf(e),r=Object(en.a)(t);return r[i]=n,r},R=function(n,e,t,i){var r=n[t],o=e[t],a=Object(P.a)({},n);a[t]=o;var l=Object(P.a)({},e);l[t]=r,c({type:"EDIT_PLANNER_MEAL",payload:a}),c({type:"EDIT_PLANNER_MEAL",payload:l}),I("".concat(l.id,"-").concat(i))()},B=function(n,e,t){var i="".concat(t,"-").concat(e);return Object(M.jsx)(Cn,{id:n,type:e,open:s===i,dayId:t,onChooseMeal:D,onClick:I(i),onClose:T,moveUp:_,moveDown:N,onSwitchStart:L,onSwitchEnd:A,switching:h,switchId:O,switchType:y})},q=[];return e.forEach((function(n,e){e<a&&q.push(n)})),Object(M.jsx)(wn,{children:Object(M.jsxs)(gn,{children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:Object(M.jsx)(K,{label:Object(M.jsx)(mn.b,{}),width:"50px",onClick:function(){var n=Object(en.a)(e),t=n.pop();n.unshift(t);var i=F(n);c({type:"SET_DAILY_MEALS",payload:i})}})}),Object(M.jsx)("th",{children:"Breakfast"}),Object(M.jsx)("th",{children:"Lunch"}),Object(M.jsx)("th",{children:"Dinner"})]})}),Object(M.jsxs)("tbody",{children:[q.map((function(n){return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:n.day}),Object(M.jsx)("td",{children:B(n.breakfastId,"Breakfast",n.id)}),Object(M.jsx)("td",{children:B(n.lunchId,"Lunch",n.id)}),Object(M.jsx)("td",{children:B(n.dinnerId,"Dinner",n.id)})]},"meal-".concat(n.id))})),Object(M.jsxs)("tr",{className:"hidden",children:[Object(M.jsx)("td",{children:Object(M.jsx)(K,{label:Object(M.jsx)(mn.a,{}),width:"50px",onClick:function(){var n=Object(en.a)(e),t=n.shift();n.push(t);var i=F(n);c({type:"SET_DAILY_MEALS",payload:i})}})}),Object(M.jsx)("td",{}),Object(M.jsx)("td",{}),Object(M.jsx)("td",{})]})]})]})})},Sn=A.a.div(y||(y=Object(L.a)(["\n\n"]))),In=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Tn=function(n){var e=In.indexOf(n)+1;return In[e%7]},Dn=function(n){var e=1;return n.forEach((function(n){n.forEach((function(n){n.id>e&&(e=n.id)}))})),e+1},Ln=function(n,e,t){e<7&&(e=7),e>21&&(e=21);var i=n[n.length-1].day;i=Tn(i);for(var r=Dn(t),o=n.length,c=Object(en.a)(n),a=0;a<e-o;a++)c.push({id:r,day:i,breakfastId:0,lunchId:0,dinnerId:0}),i=Tn(i),r++;return c},An=function(n,e){var t=Object(en.a)(n);return t.length>e&&(e<7&&(e=7),t=n.slice(0,e)),t},_n=function(n,e,t){for(var i=[],r=Dn(t),o=n,c=0;c<e;c++)i.push({id:r++,day:o,breakfastId:0,lunchId:0,dinnerId:0}),o=Tn(o);return i},Mn=function(){var n=Object(E.useContext)(W),e=n.planner,t=n.dispatch,i=e.days,r=e.people,o=e.showCalories,c=e.dailyMeals;return Object(E.useEffect)((function(){for(var n=[],e=0;e<r;e++){var o=[],a=c[e];o=a.length<i?Ln(a,i,[].concat(Object(en.a)(c),n)):a.length>i?An(a,i):a,n.push(o)}t({type:"SET_DAILY_MEALS",payload:n})}),[i]),Object(M.jsxs)(Sn,{children:[Object(M.jsx)("h3",{children:"Planner"}),Object(M.jsx)(U,{type:"number",labelText:"Number of Weeks",value:i/7,onChange:function(n){n>3&&(n=3),n<1&&(n=1),t({type:"SET_DAYS",payload:7*n})},min:1,max:3}),Object(M.jsx)(U,{type:"number",labelText:"Number of People",value:r,onChange:function(n){n<1&&(n=1);var e=c.length,r=c[0][0].day,o=Object(en.a)(c);if(e<n)for(var a=e;a<n;a++){var l=_n(r,i,c);o.push(l)}else if(e>n)for(var d=n;d<e;d++)o.pop();t({type:"SET_NUMBER_PEOPLE",payload:n}),t({type:"SET_DAILY_MEALS",payload:o})},min:1,max:3}),Object(M.jsx)(U,{type:"checkbox",labelText:"Show Calories",value:o,onChange:function(n){t({type:"SET_SHOW_CALORIES",payload:n})}}),Object(M.jsx)("br",{}),c.map((function(n,e){return Object(M.jsx)("div",{children:Object(M.jsx)(En,{dailyMeals:n,allMeals:c})},"planner-"+e)}))]})},Nn=function(n){var e=n.meal,t=n.getCalories,i=n.openEditModal,r=n.onDeleteItem;return Object(M.jsxs)(rn,{children:[Object(M.jsx)("header",{children:e.name}),Object(M.jsx)("section",{children:Object(M.jsx)(dn,{data:[["Type",e.type],["Calories",t(e)]]})}),Object(M.jsxs)("footer",{children:[Object(M.jsx)(K,{label:"Edit",onClick:i(e),width:"80px",color:"lightblue"}),Object(M.jsx)(un,{label:"Delete",width:"80px",color:"red",onClick:r(e)})]})]},e.id)},Fn=function(n){var e=n.mealsInGroup,t=n.heading,i=n.openEditModal,r=Object(E.useContext)(W),o=r.meals,c=r.items,a=r.dispatch,l=function(n){return function(){a({type:"DELETE_MEAL",payload:n})}},d=function(n){var e=0,t=o.find((function(e){return e.id===n.id}));t&&(e=t.itemList.map((function(n){var e=c.find((function(e){return e.id===n.id}));return e?Object(P.a)(Object(P.a)({},e),{},{qty:n.qty}):{calories:0}})).reduce((function(n,e){return 0===e.calories?n:n+parseInt(e.calories/e.size*e.qty)}),0));return e};return Object(M.jsxs)("div",{children:[Object(M.jsx)("h4",{children:t}),e.map((function(n){return Object(M.jsx)(Nn,{meal:n,getCalories:d,openEditModal:i,onDeleteItem:l},"meal-"+n.id)}))]})},zn=function(n){var e=n.meal,t=void 0===e?{}:e,i=n.editing,r=void 0!==i&&i,o=n.onFinish,c=n.onCancel,a=Object(E.useContext)(W).items,l=Object(E.useState)(t.name||""),d=Object(z.a)(l,2),s=d[0],u=d[1],b=Object(E.useState)(t.itemList||[]),p=Object(z.a)(b,2),h=p[0],j=p[1],x=Object(E.useState)(t.type||"Dinner"),f=Object(z.a)(x,2),O=f[0],m=f[1],g=a.filter((function(n){return void 0===h.find((function(e){return e.id===n.id}))})),v=g.length>0?g[0].id:0;if(r&&void 0===t.name)return null;var y=function(n){return function(e){var t=h.map((function(t,i){return i===n?Object(P.a)(Object(P.a)({},t),{},{qty:e}):t}));j(t)}},k=function(n){return function(){var e=h.filter((function(e,t){return t!==n}));j(e)}};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("header",{style:{fontWeight:"bold"},children:r?Object(M.jsx)("span",{children:s}):"New Item"}),Object(M.jsxs)("section",{children:[Object(M.jsx)(U,{type:"text",autoFocus:!0,placeholder:"Item Name",labelText:"Name",labelWidth:"150",width:"200",value:s,onChange:function(n){return u(n)}}),Object(M.jsx)("br",{}),Object(M.jsx)(X,{labelText:"Type",width:"120",value:O,options:["Breakfast","Lunch","Dinner"],onChange:function(n){return m(n)}}),Object(M.jsx)("br",{}),h.map((function(n,e){var t,i=function(n){var e=a.find((function(e){return e.id===n}));if(!e)return"Qty";var t=e.measurement;return" items"===t?t="Qty":"g"===t&&(t="Grams"),t}(n.id);return Object(M.jsxs)("div",{children:[Object(M.jsx)(X,{labelText:"Item",width:"150",value:n.id,options:a.map((function(n){return{value:n.id,display:"".concat(n.name," (").concat(n.size).concat(n.measurement,")")}})),onChange:(t=e,function(n){var e=h.map((function(e,i){return i===t?Object(P.a)(Object(P.a)({},e),{},{id:n}):e}));j(e)})}),Object(M.jsx)(U,{type:"number",labelText:i,labelWidth:"100",width:"70",value:n.qty,onChange:y(e)}),Object(M.jsx)(K,{label:"Del",width:"50px",onClick:k(e)}),Object(M.jsx)("br",{})]},"itemList-".concat(e))})),Object(M.jsx)(K,{label:"Add New Item",color:"lightblue",width:"150px",onClick:function(){var n={id:v,qty:1},e=[].concat(Object(en.a)(h),[n]);j(e)}})]}),Object(M.jsxs)("footer",{children:[Object(M.jsx)(K,{label:"Save",onClick:function(){if(""!==s&&0!==h.length){var n=Object(P.a)(Object(P.a)({},t),{},{name:s,type:O,itemList:h});o(n)}}}),Object(M.jsx)(K,{label:"Cancel",onClick:c})]})]})},Wn=function(){var n=Object(E.useContext)(W),e=n.meals,t=n.dispatch,i=Object(E.useState)(!1),r=Object(z.a)(i,2),o=r[0],c=r[1],a=Object(E.useState)(!1),l=Object(z.a)(a,2),d=l[0],s=l[1],u=Object(E.useState)(void 0),b=Object(z.a)(u,2),p=b[0],h=b[1],j=function(n){return function(){h(n),c(!0)}},x=function(){c(!1),s(!1)},f=function(n){var e={breakfast:[],lunch:[],dinner:[]};return n.forEach((function(n){"Breakfast"===n.type&&e.breakfast.push(n),"Lunch"===n.type&&e.lunch.push(n),"Dinner"===n.type&&e.dinner.push(n)})),e}(e);return Object(M.jsxs)("div",{children:[Object(M.jsx)("h3",{children:"Meals"}),Object(M.jsxs)(R,{children:[Object(M.jsx)(K,{label:"Add New Meal",color:"lightblue",onClick:function(){s(!0)}}),Object(M.jsx)(Fn,{heading:"Breakfast",mealsInGroup:f.breakfast,openEditModal:j}),Object(M.jsx)(Fn,{heading:"Lunch",mealsInGroup:f.lunch,openEditModal:j}),Object(M.jsx)(Fn,{heading:"Dinner",mealsInGroup:f.dinner,openEditModal:j})]}),Object(M.jsx)(jn,{open:o,closeFunc:x,children:o?Object(M.jsx)(zn,{meal:p,onFinish:function(n){c(!1),h(void 0),t({type:"EDIT_MEAL",payload:n})},onCancel:x}):null}),Object(M.jsx)(jn,{open:d,closeFunc:x,children:d?Object(M.jsx)(zn,{onFinish:function(n){t({type:"ADD_MEAL",payload:n}),s(!1)},onCancel:x}):null})]})},Rn=t(35),Pn=A.a.button(k||(k=Object(L.a)(["\n    background-color: #DDD;\n    color: black;\n    width: 150px;\n    height: 28px;\n    border: none;\n    border-radius: 5px;\n    padding: 5px;\n    margin: 5px;\n    display: inline-block;\n    font-size: 1em;\n    vertical-align: bottom;\n\n    &:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n"]))),Bn=function(n){var e=n.data,t=n.filename,i=void 0===t?"Food Planner Backup - ".concat(Object(Rn.a)(new Date,"yyyy-MM-dd"),".json"):t;return Object(M.jsx)(Pn,{onClick:function(){var n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),t=document.createElement("a");t.setAttribute("href",n),t.setAttribute("download",i),t.click()},children:"Download"})},qn=A.a.div(C||(C=Object(L.a)(["\n    display: inline-flex;\n    margin: 5px;\n\n    & > input {\n        display: none;\n    }\n\n    & > #filename {\n        width: 150px;\n        height: 28px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        display: inline-block;\n        padding: 5px;\n        border: 1px solid #DDD;\n        border-radius: 5px 0px 0px 5px;\n    }\n\n    & > #uploadButton {\n        display: inline-block;\n        height: 28px;\n        padding: 5px 10px;\n        background-color: #DDD;\n        border-radius: 0px 5px 5px 0px;\n    }\n\n    & > #uploadButton:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n\n    & > #filename:hover {\n        cursor: pointer;\n    }\n"]))),Yn=function(n){var e=n.onUpload,t=void 0===e?function(){}:e,i=Object(E.useState)(null),r=Object(z.a)(i,2),o=r[0],c=r[1],a=Object(E.useState)("Choose a File"),l=Object(z.a)(a,2),d=l[0],s=l[1],u=Object(E.useRef)(null),b="fileUpload-"+Math.floor(100*Math.random());return Object(M.jsxs)(qn,{children:[Object(M.jsx)("input",{type:"file",id:b,onChange:function(n){var e=n.target.files[0];if(void 0!==e)if(e.type.match("application/json")){var t=new FileReader;s(e.name),t.onload=function(n){var e=t.result,i=JSON.parse(e);c(i)},t.readAsText(e)}else c(null),s("Incorrect File Type")},ref:u}),Object(M.jsx)("label",{id:"filename",htmlFor:b,children:d}),Object(M.jsx)("div",{id:"uploadButton",onClick:function(){o?(s("File Uploaded"),t(o),c(null),u.current.value=""):s("Choose a File")},children:"Upload"})]})},Un=A.a.div(w||(w=Object(L.a)(["\n\n"]))),Hn=function(){var n=Object(E.useContext)(W),e=n.items,t=n.meals,i=n.planner,r=n.shoppingList,o=n.stockList,c=n.dispatch,a={items:e,meals:t,planner:i,shoppingList:r,stockList:o};return Object(M.jsxs)(Un,{children:[Object(M.jsx)("h3",{children:"Settings"}),Object(M.jsxs)(R,{children:[Object(M.jsx)("h4",{children:"Download Backup"}),Object(M.jsx)(Bn,{data:a}),Object(M.jsx)("h4",{children:"Upload Backup"}),Object(M.jsx)("p",{children:"This will overwrite the data currently stored for the planner."}),Object(M.jsx)(Yn,{onUpload:function(n){c({type:"RESTORE_LOCAL",payload:n})}})]})]})};var Gn=function(){return Object(M.jsxs)("div",{className:"App",children:[Object(M.jsx)(F,{}),Object(M.jsxs)(D.c,{children:[Object(M.jsx)(D.a,{path:"/",element:Object(M.jsx)(Mn,{})}),Object(M.jsx)(D.a,{path:"/shoppingList",element:Object(M.jsx)(nn,{})}),Object(M.jsx)(D.a,{path:"/items",element:Object(M.jsx)(On,{})}),Object(M.jsx)(D.a,{path:"/meals",element:Object(M.jsx)(Wn,{})}),Object(M.jsx)(D.a,{path:"/settings",element:Object(M.jsx)(Hn,{})})]})]})},Kn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,36)).then((function(e){var t=e.getCLS,i=e.getFID,r=e.getFCP,o=e.getLCP,c=e.getTTFB;t(n),i(n),r(n),o(n),c(n)}))},Jn={meals:[],items:[],planner:{days:7,startDay:"Monday",people:1,showCalories:!0,dailyMeals:[[{id:1,day:"Monday",breakfastId:0,lunchId:0,dinnerId:0},{id:2,day:"Tuesday",breakfastId:0,lunchId:0,dinnerId:0},{id:3,day:"Wednesday",breakfastId:0,lunchId:0,dinnerId:0},{id:4,day:"Thursday",breakfastId:0,lunchId:0,dinnerId:0},{id:5,day:"Friday",breakfastId:0,lunchId:0,dinnerId:0},{id:6,day:"Saturday",breakfastId:0,lunchId:0,dinnerId:0},{id:7,day:"Sunday",breakfastId:0,lunchId:0,dinnerId:0}]]},shoppingList:{},stockList:[]},Xn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,t=e.payload;switch(e.type){case"SET_DAYS":return Object(P.a)(Object(P.a)({},n),{},{planner:Object(P.a)(Object(P.a)({},n.planner),{},{days:t})});case"SET_START_DAY":return Object(P.a)(Object(P.a)({},n),{},{planner:Object(P.a)(Object(P.a)({},n.planner),{},{startDay:t})});case"SET_NUMBER_PEOPLE":return Object(P.a)(Object(P.a)({},n),{},{planner:Object(P.a)(Object(P.a)({},n.planner),{},{people:t})});case"SET_SHOW_CALORIES":return Object(P.a)(Object(P.a)({},n),{},{planner:Object(P.a)(Object(P.a)({},n.planner),{},{showCalories:t})});case"SET_DAILY_MEALS":return Object(P.a)(Object(P.a)({},n),{},{planner:Object(P.a)(Object(P.a)({},n.planner),{},{dailyMeals:t})});case"SET_SHOPPING_LIST_ITEM_TRUE":return Object(P.a)(Object(P.a)({},n),{},{shoppingList:Qn(n.shoppingList,t,!0)});case"SET_SHOPPING_LIST_ITEM_FALSE":return Object(P.a)(Object(P.a)({},n),{},{shoppingList:Qn(n.shoppingList,t,!1)});case"CLEAR_SHOPPING_LIST":return Object(P.a)(Object(P.a)({},n),{},{shoppingList:{}});case"ADD_STOCK":return Object(P.a)(Object(P.a)({},n),{},{stockList:Zn(t,n.stockList,!0)});case"EDIT_STOCK":return Object(P.a)(Object(P.a)({},n),{},{stockList:$n(t,n.stockList)});case"DELETE_STOCK":return Object(P.a)(Object(P.a)({},n),{},{stockList:ne(t,n.stockList)});case"CLEAR_STOCK":return Object(P.a)(Object(P.a)({},n),{},{stockList:[]});case"ADD_ITEM":return Object(P.a)(Object(P.a)({},n),{},{items:Zn(t,n.items)});case"EDIT_ITEM":return Object(P.a)(Object(P.a)({},n),{},{items:$n(t,n.items)});case"DELETE_ITEM":return Object(P.a)(Object(P.a)({},n),{},{items:ne(t,n.items)});case"ADD_MEAL":return Object(P.a)(Object(P.a)({},n),{},{meals:Zn(t,n.meals)});case"EDIT_MEAL":return Object(P.a)(Object(P.a)({},n),{},{meals:$n(t,n.meals)});case"DELETE_MEAL":return Object(P.a)(Object(P.a)({},n),{},{meals:ne(t,n.meals)});case"EDIT_PLANNER_MEAL":return Object(P.a)(Object(P.a)({},n),{},{planner:Object(P.a)(Object(P.a)({},n.planner),{},{dailyMeals:Vn(t,n.planner.dailyMeals)})});case"RESTORE_LOCAL":return Object(P.a)(Object(P.a)({},n),t);default:return n}},Qn=function(n,e,t){var i=Object(P.a)({},n);return i[e]=t,!1===t&&delete i[e],i},Vn=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){return e.map((function(e){return e.id===n.id?n:e}))}))},Zn=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t||(n.id=ee()),[].concat(Object(en.a)(e),[n])},$n=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){return e.id===n.id?n:e}))},ne=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter((function(e){return e.id!==n.id}))},ee=function(){return Object(Rn.a)(new Date,"T")},te=function(){var n=localStorage.getItem("food-planner-state");return void 0===(n=n?JSON.parse(n):Jn).planner&&(n.planner={}),n.planner=Object(P.a)(Object(P.a)({},Jn.planner),n.planner),n.switching=!1,n},ie=function(n){var e=n.children,t=Object(E.useReducer)(Xn,{},te),i=Object(z.a)(t,2),r=i[0],o=i[1];return Object(E.useEffect)((function(){localStorage.setItem("food-planner-state",JSON.stringify(r))}),[r]),Object(M.jsx)(W.Provider,{value:Object(P.a)(Object(P.a)({},r),{},{dispatch:o}),children:e})};T.a.render(Object(M.jsx)(S.a.StrictMode,{children:Object(M.jsx)(ie,{children:Object(M.jsx)(_.a,{children:Object(M.jsx)(Gn,{})})})}),document.getElementById("root")),Kn()}},[[34,1,2]]]);
//# sourceMappingURL=main.227f8e08.chunk.js.map