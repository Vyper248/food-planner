(this["webpackJsonpfood-planner"]=this["webpackJsonpfood-planner"]||[]).push([[0],{29:function(n,e,t){},30:function(n,e,t){},36:function(n,e,t){"use strict";t.r(e);var i,r,o,c,a,l,d,s,u,b,p,j,h,x,f,O,m,v,g,y,k,w,C,E,S=t(2),T=t.n(S),I=t(20),A=t.n(I),L=(t(29),t(30),t(7)),D=t(5),_=t(6),M=t(10),N=t(1),F=_.a.div(i||(i=Object(D.a)(["\n    position: sticky;\n    top: 0px;\n    border-bottom: 1px solid var(--menu-border-color);\n    background-color: var(--menu-background-color);\n    text-align: left;\n    z-index: 5;\n\n    & > a {\n        display: inline-block;\n        padding: 5px 10px;\n        text-decoration: none;\n        color: black;\n        border-right: 1px solid var(--menu-border-color);\n    }\n\n    & > a:hover {\n        background-color: var(--menu-selected-color);\n    }\n\n    & > a.right {\n        float: right;\n        border-right: none;\n        border-left: 1px solid var(--menu-border-color);\n    }\n\n    & > a.selected {\n        background-color: var(--menu-selected-color);\n    }\n"]))),z=function(){return Object(N.jsxs)(F,{children:[Object(N.jsx)(M.b,{className:function(n){return n.isActive?"selected":""},to:"/",children:"Home"}),Object(N.jsx)(M.b,{className:function(n){return n.isActive?"selected":""},to:"/shoppingList",children:"Shopping List"}),Object(N.jsx)(M.b,{className:function(n){return n.isActive?"selected":""},to:"/items",children:"Items"}),Object(N.jsx)(M.b,{className:function(n){return n.isActive?"selected":""},to:"/meals",children:"Meals"}),Object(N.jsx)(M.b,{className:function(n){return n.isActive?"right selected":"right"},to:"/settings",children:"Settings"})]})},P=t(4),B=Object(S.createContext)({}),R=_.a.div(r||(r=Object(D.a)(["\n    max-width: 1200px;\n    margin: auto;\n"]))),W=t(3),Y=t(14),q=["type","value","onChange","width","labelText","labelWidth","labelAlign"],H=_.a.div(o||(o=Object(D.a)(["\n    margin: 5px;\n    height: 28px;\n    display: inline-flex;\n    white-space: nowrap;\n    position: relative;\n\n    & > label, & > input {\n        border: 1px solid #DDD;\n        height: 100%;\n        margin: 0px;\n        display: inline-flex;\n        align-items: center;\n        font-size: 1em;\n    }\n\n    & > label {\n        padding: 0px 10px;\n        background-color: var(--menu-background-color);\n        position: relative;\n        z-index: -1;\n        width: ",";\n        ","\n        ","\n        right: -25px; \n        padding-right: 35px; \n        margin-left: -25px; \n        border-radius: 20px 50px 50px 20px;\n    }\n\n    & > input {\n        padding: 5px;\n        border-radius: 5px;\n        width: ",";\n        ",";\n    }\n\n    & > input:focus {\n        outline: none;\n        border: 1px solid #66F;\n    }\n\n    & > input[type=button]:hover,\n    & > input[type=color]:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n\n    & > input[type=button] {\n        justify-content: center;\n        background-color: rgb(239,239,239);\n        padding: 0px;\n    }\n\n    & > input[type=color] {\n        padding: 2px 4px;\n    }\n\n    & > input[type=checkbox],\n    & > input[type=radio] {\n        width: 28px;\n        opacity: 0;\n        pointer-events: none;\n    }\n\n    & > input[type=radio] + span:hover,\n    & > input[type=checkbox] + span:hover {\n        cursor: pointer;\n    }\n\n    & > input[type=radio] + span {\n        display: inline-block;\n        border: 1px solid #DDD;\n        border-radius: 50%;\n        width: 28px;\n        height: 28px;\n        position: absolute;\n        right: 0px;\n        background-color: white;\n    }\n\n    & > input[type=radio]:checked + span:after {\n        content: '';\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        background-color: #077BFB;\n        position: absolute;\n        right: 5px;\n        top: calc(50% - 8px);\n    }\n\n    & > input[type=checkbox] + span {\n        display: inline-block;\n        border: 1px solid #DDD;\n        border-radius: 5px;\n        ",";\n        width: 28px;\n        height: 28px;\n        position: absolute;\n        right: 0px;\n        background-color: white;\n    }\n\n    & > input[type=checkbox]:checked + span {\n        background-color: #077BFB;\n    }\n\n    & > input[type=checkbox]:checked + span:after {\n        content: '';\n        width: 5px;\n        height: 15px;\n        position: absolute;\n        right: 8px;\n        top: 2px;\n        border-bottom: 5px solid white;\n        border-right: 5px solid white;\n        transform: rotate(45deg);\n    }\n"])),(function(n){return n.labelWidth?n.labelWidth+"px":""}),(function(n){return"right"===n.labelAlign?"justify-content: flex-end;":""}),(function(n){return"center"===n.labelAlign?"justify-content: center;":""}),(function(n){return n.width+"px"}),(function(n){return n.labelText?"border-radius: 0px 5px 5px 0px;":""}),(function(n){return n.labelText?"border-radius: 0px 5px 5px 0px;":""})),U=function(n){var e=n.type,t=void 0===e?"text":e,i=n.value,r=n.onChange,o=n.width,c=void 0===o?100:o,a=n.labelText,l=void 0===a?"":a,d=n.labelWidth,s=n.labelAlign,u=void 0===s?"right":s,b=Object(Y.a)(n,q);"date"===t&&100===c&&(c=142);return Object(N.jsxs)(H,{width:c,labelText:l&&l.length>0,labelWidth:d,labelAlign:u,children:[l&&l.length>0?Object(N.jsx)("label",{children:l}):Object(N.jsx)("span",{}),Object(N.jsx)("input",Object(W.a)({type:t,value:i,onChange:function(n){if("number"===t){var e=parseFloat(n.target.value);isNaN(e)&&(e=""),r(e)}else r(n.target.value)},checked:"checkbox"===t&&!!i},b)),Object(N.jsx)("span",{onClick:function(){"checkbox"===t?r(!i):"radio"===t&&r(i)}})]})},G=_.a.table(c||(c=Object(D.a)(["\n    border-collapse: separate;\n    border-spacing: 0;\n    width: auto;\n    margin: auto;\n    border: 1px solid var(--menu-border-color);\n    border-radius: 5px 5px 0px 0px;\n\n    ","\n\n    th, td {\n        padding: 7px 10px;\n        ",";\n        ",";\n        border-right: 1px solid var(--menu-border-color);\n        height: 1px;\n    }\n\n    td.input {\n        padding: 0px;\n    }\n\n    thead {\n        th:first-child {\n            border-top-left-radius: 4px;\n        }\n    \n        th:last-child {\n            border-top-right-radius: 4px;\n        }\n    \n        th {\n            border-bottom: 1px solid var(--menu-border-color);\n            background-color: var(--table-header-color);\n            min-width: 100px;\n        }\n    \n        th:last-child,\n        td:last-child {\n            border-right: none;\n        }\n    }\n\n    tr > td:last-child {\n        border-right: none;\n    }\n\n    tr:last-child {\n        border-bottom: none;\n    }\n\n    tr:nth-child(2n) td {\n        background-color: var(--table-row-color);\n    }\n"])),(function(n){return!0===n.noBorder?"border: none;":""}),(function(n){return"small"===n.size?"padding: 4px 7px;":""}),(function(n){return"large"===n.size?"padding: 10px 15px;":""})),K=_.a.div(a||(a=Object(D.a)(["\n    background-color: ",";\n    color: ",";\n    width: ",";\n    border-radius: 5px;\n    padding: 5px;\n    margin: ",";\n    display: inline-block;\n    height: 28px;\n\n    & > svg {\n        font-size: ",";\n        position: relative;\n        top: ",";\n    }\n\n    &:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n"])),(function(n){return n.color}),(function(n){return n.textColor?n.textColor:"black"}),(function(n){return n.width?n.width:"150px"}),(function(n){return n.margin?n.margin:"5px"}),(function(n){return n.iconSize}),(function(n){return n.iconTop})),J=function(n){var e=n.label,t=void 0===e?"":e,i=n.onClick,r=void 0===i?function(){}:i,o=n.color,c=void 0===o?"#CCC":o,a=n.textColor,l=n.width,d=n.margin,s=n.iconSize,u=void 0===s?"1.5em":s,b=n.iconTop,p=void 0===b?"0px":b;return Object(N.jsx)(K,{color:c,textColor:a,width:l,margin:d,iconSize:u,iconTop:p,onClick:r,children:t})},X=t(13),Q=_.a.div(l||(l=Object(D.a)(["\n    margin: 5px;\n    height: 28px;\n    display: inline-flex;\n    white-space: nowrap;\n    position: relative;\n\n    & > label {\n        border: 1px solid #DDD;\n        height: 100%;\n        margin: 0px;\n        display: inline-flex;\n        align-items: center;\n        font-size: 1em;\n        padding: 0px 10px;\n        background-color: var(--menu-background-color);\n        position: relative;\n        z-index: -1;\n        width: ",";\n        ","\n        ","\n        right: -25px; \n        padding-right: 35px; \n        margin-left: -25px; \n        border-right: none; \n        border-radius: 5px 0px 0px 5px;\n        justify-content: end;\n    }\n\n    & > select {\n        border: 1px solid #DDD;\n        background-color: white;\n        -webkit-appearance:none;\n        height: 100%;\n        margin: 0px;\n        display: inline-flex;\n        align-items: center;\n        font-size: 1em;\n        padding: 0px 25px 0px 5px;\n        border-radius: 5px;\n        width: ",";\n        ",";\n        text-overflow: ellipsis;\n    }\n\n    &::after {\n        content: '';\n        position: absolute;\n        right: 8px;\n        top: calc(50% - 5px);\n        border-top: 10px solid black;\n        border-left: 6px solid transparent;\n        border-right: 6px solid transparent;\n    }\n\n    & > select:hover {\n        cursor: pointer;\n    }\n\n    & > select:focus {\n        outline: none;\n    }\n"])),(function(n){return n.labelWidth?n.labelWidth+"px":""}),(function(n){return"right"===n.labelAlign?"justify-content: flex-end;":""}),(function(n){return"center"===n.labelAlign?"justify-content: center;":""}),(function(n){return n.width+"px"}),(function(n){return n.labelText?"border-radius: 0px 5px 5px 0px;":""})),V=function(n){var e,t=n.placeholder,i=void 0===t?"Select an Option":t,r=n.labelText,o=void 0===r?"":r,c=n.width,a=void 0===c?150:c,l=n.labelWidth,d=n.value,s=n.options,u=void 0===s?[]:s,b=n.onChange;if(Array.isArray(u)&&0===u.length)return Object(N.jsxs)(Q,{width:a,labelText:o&&o.length>0,children:[o&&o.length>0?Object(N.jsx)("label",{children:o}):null,Object(N.jsx)("select",{children:Object(N.jsx)("option",{hidden:!0,children:"No More Items"})})]});Array.isArray(u)&&"string"===typeof u[0]&&(e="basic"),Array.isArray(u)&&"object"===typeof u[0]&&(e="advanced"),"object"!==typeof u||Array.isArray(u)||(e="groups");var p=function(n){var e=n.target.value;b(e)};return"basic"===e?Object(N.jsxs)(Q,{width:a,labelWidth:l,labelText:o&&o.length>0,children:[o&&o.length>0?Object(N.jsx)("label",{children:o}):null,Object(N.jsxs)("select",{value:d,onChange:p,children:[Object(N.jsx)("option",{hidden:!0,value:void 0,children:i}),u.map((function(n){return Object(N.jsx)("option",{value:n,children:n},"dropdown-".concat(n))}))]})]}):"advanced"===e?Object(N.jsxs)(Q,{width:a,labelWidth:l,labelText:o&&o.length>0,children:[o&&o.length>0?Object(N.jsx)("label",{children:o}):null,Object(N.jsxs)("select",{value:d,onChange:p,children:[Object(N.jsx)("option",{hidden:!0,value:void 0,children:i}),u.map((function(n){return Object(N.jsx)("option",{value:n.value,children:n.display},"dropdown-".concat(n.value))}))]})]}):"groups"===e?Object(N.jsxs)(Q,{width:a,labelWidth:l,labelText:o&&o.length>0,children:[o&&o.length>0?Object(N.jsx)("label",{children:o}):null,Object(N.jsxs)("select",{value:d,onChange:p,children:[Object(N.jsx)("option",{hidden:!0,value:void 0,children:i}),Object.keys(u).map((function(n){var e=u[n],t="basic";return"object"===typeof e[0]&&(t="advanced"),"basic"===t?Object(N.jsx)("optgroup",{label:n,children:e.map((function(n){return Object(N.jsx)("option",{value:n,children:n},"dropdown-".concat(n))}))},"dropdown-group-".concat(n)):"advanced"===t?Object(N.jsx)("optgroup",{label:n,children:e.map((function(n){return Object(N.jsx)("option",{value:n.value,children:n.display},"dropdown-".concat(n.value))}))},"dropdown-group-".concat(n)):null}))]})]}):null},Z=t(8),$=function(n,e){return Object(Z.a)(e).sort((function(e,t){return"Name"===n?e.name<t.name?-1:1:"Size"===n?e.size-t.size:"Calories"===n?e.calories-t.calories:"Portions"===n?e.portions-t.portions:0}))},nn=_.a.div(d||(d=Object(D.a)(["\n    margin-bottom: 10px;\n\n    & tr {\n        border: 1px solid var(--menu-border-color) !important;\n    }\n"]))),en=function(){var n=Object(S.useContext)(B),e=n.stockList,t=void 0===e?[]:e,i=n.items,r=n.dispatch,o=Object(S.useState)(""),c=Object(P.a)(o,2),a=c[0],l=c[1],d=Object(S.useState)([]),s=Object(P.a)(d,2),u=s[0],b=s[1];Object(S.useEffect)((function(){var n,e=i.filter((function(n){return!t.find((function(e){return e.id===n.id}))})),r=$("Name",e),o=null===(n=r[0])||void 0===n?void 0:n.id;l(o),b(r)}),[t,i]);var p=function(n){return function(){r({type:"DELETE_STOCK",payload:{id:n}})}};return Object(N.jsxs)(nn,{children:[Object(N.jsx)("h3",{children:"Current Stock"}),Object(N.jsxs)(R,{children:[Object(N.jsxs)("div",{children:[Object(N.jsx)(V,{labelText:"Item",value:a,options:u.map((function(n){return{value:n.id,display:n.name}})),onChange:l}),Object(N.jsx)(J,{label:"Add",color:"var(--button-color-normal)",onClick:function(){var n=i.find((function(n){return n.id===a}));if(n){var e={id:n.id,name:n.name,measurement:n.measurement,stock:1};r({type:"ADD_STOCK",payload:e})}}}),Object(N.jsx)(J,{label:"Clear Stock",color:"var(--button-color-caution)",onClick:function(){r({type:"CLEAR_STOCK"})}})]}),Object(N.jsx)("br",{}),Object(N.jsx)("div",{children:"After adding an item, input the current quantity of individual items (or weight)"}),Object(N.jsx)("br",{}),Object(N.jsx)(G,{children:Object(N.jsx)("tbody",{children:t.map((function(n){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"input",children:Object(N.jsx)(U,{type:"number",width:"60",value:n.stock,onChange:(e=n.id,function(n){var i=t.find((function(n){return n.id===e}));r({type:"EDIT_STOCK",payload:Object(W.a)(Object(W.a)({},i),{},{stock:n})})})})}),Object(N.jsx)("td",{style:{minWidth:"61px"},children:n.measurement}),Object(N.jsx)("td",{style:{minWidth:"200px"},children:n.name}),Object(N.jsx)("td",{className:"input",children:Object(N.jsx)(J,{label:Object(N.jsx)(X.a,{}),width:"50px",iconSize:"1.2em",color:"var(--button-color-caution)",onClick:p(n.id)})})]},"stockItem-"+n.id);var e}))})})]})]})},tn=_.a.tr(s||(s=Object(D.a)(["\n    width: 500px;\n    border: 1px solid var(--menu-border-color) !important;\n\n    & > td#checkbox > div {\n        margin: 0px;\n        height: 25px;\n    }\n"]))),rn=function(n){var e=n.qty,t=n.name,i=n.checked,r=void 0!==i&&i,o=n.onClickCheckbox;return 0===e?null:Object(N.jsxs)(tn,{children:[Object(N.jsx)("td",{id:"checkbox",children:Object(N.jsx)(U,{type:"checkbox",value:r,onChange:o})}),Object(N.jsx)("td",{id:"qty",children:e}),Object(N.jsx)("td",{id:"name",style:{width:"300px"},children:t})]})},on=function(n){var e=n.itemList,t=n.onCheckItem;return Object(N.jsxs)(G,{children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{style:{minWidth:"50px"}}),Object(N.jsx)("th",{style:{minWidth:"60px"},children:"Qty"}),Object(N.jsx)("th",{children:"Item"})]})}),Object(N.jsx)("tbody",{children:e.map((function(n){return Object(N.jsx)(rn,{name:n.name,qty:n.qty,checked:n.checked,onClickCheckbox:t(n.id)},"listItem-"+n.id)}))})]})},cn=function(){var n=Object(S.useContext)(B),e=n.planner,t=n.meals,i=n.items,r=n.shoppingList,o=n.stockList,c=n.dispatch,a=Object(S.useState)([]),l=Object(P.a)(a,2),d=l[0],s=l[1];Object(S.useEffect)((function(){var n=p(e.dailyMeals);b(n,r),s(n)}),[e,o]);var u=function(n,e){var i,r=(i=e,t.find((function(n){return n.id===i})));r&&r.itemList.forEach((function(e){void 0===n[e.id]&&(n[e.id]=0),n[e.id]+=e.qty}))},b=function(n,e){n.forEach((function(n){!0===e[n.id]&&(n.checked=!0)}))},p=function(n){var e={},t=[];return n.forEach((function(n){n.forEach((function(n){u(e,n.breakfastId),u(e,n.lunchId),u(e,n.dinnerId)}))})),Object.keys(e).forEach((function(n){var r=function(n,e){var t=i.find((function(e){return e.id===n}));if(!t)return 0;var r=o.find((function(e){return e.id===n}));r&&(e-=r.stock);var c=e/t.size;return{qty:Math.ceil(c),name:t.name,checked:!1,id:n}}(n,e[n]);t.push(r)})),t};return Object(N.jsxs)("div",{children:[Object(N.jsx)("h3",{children:"Shopping List"}),Object(N.jsxs)(R,{children:[Object(N.jsx)(J,{label:"Uncheck All",color:"var(--button-color-caution)",onClick:function(){c({type:"CLEAR_SHOPPING_LIST"});var n=d.map((function(n){return n.checked=!1,n}));s(n)}}),d.length>0?Object(N.jsx)(on,{itemList:d,onCheckItem:function(n){return function(){var e=d.map((function(e){return e.id===n&&(e.checked=!e.checked,e.checked?c({type:"SET_SHOPPING_LIST_ITEM_TRUE",payload:n}):e.checked||c({type:"SET_SHOPPING_LIST_ITEM_FALSE",payload:n})),e}));s(e)}}}):Object(N.jsx)("p",{children:"No Items Needed"})]}),Object(N.jsx)(en,{})]})},an=_.a.div(u||(u=Object(D.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    margin: 5px;\n    grid-gap: 5px;\n"])),(function(n){return n.columnTemplate})),ln=function(n){var e=n.children,t=n.columnTemplate,i=void 0===t?"1fr 1fr":t;return Object(N.jsx)(an,{columnTemplate:i,children:e})},dn=_.a.div(b||(b=Object(D.a)(["\n    opacity: ",";\n    transition: 0.4s;\n\n    & > div#background {\n        position: fixed;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        background-color: black;\n        opacity: ",";\n        ",";\n        z-index: 10;\n        transition: 0.4s;\n    }\n\n    & > #content {\n        position: fixed;\n        background-color: #FFF;\n        border: 1px solid #AAA;\n        border-radius: 5px;\n        width: ",";\n        max-width: calc(100% - 40px);\n        top: 50%;\n        left: 50%;\n        transform: ",";\n        z-index: 11;\n        transition: 0.4s;\n        box-shadow: 2px 2px 10px #666;\n    }\n\n    & section {\n        max-height: calc(100vh - 300px);\n        overflow: scroll;\n        padding: 10px;\n    }\n\n    & h4, & h3, & h2, & h1 {\n        margin: 0px 0px 0px 0px;\n    }\n\n    & header {\n        padding: 10px;\n        border-bottom: 1px solid #AAA;\n    }\n\n    & footer {\n        border-top: 1px solid #AAA;\n    }\n"])),(function(n){return n.open?1:0}),(function(n){return n.open?.3:0}),(function(n){return n.open?"":"pointer-events: none"}),(function(n){return n.width}),(function(n){return n.open?"translate(-50%, -50%) scale(1)":"translate(-50%, -50%) scale(0)"})),sn=function(n){var e=n.children,t=n.open,i=n.darken,r=void 0===i||i,o=n.width,c=void 0===o?"500px":o,a=n.closeFunc,l=void 0===a?function(){}:a,d=n.closeOnClickOutside,s=void 0!==d&&d,u=Object(S.useRef)(null),b=Object(S.useState)(t),p=Object(P.a)(b,2),j=p[0],h=p[1];if(Object(S.useEffect)((function(){var n=function(n){u.current&&!u.current.contains(n.target)&&t&&s&&l()};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[u,t]),t&&!j)window.scrollY>0&&(document.body.style.top="-".concat(window.scrollY,"px")),document.body.style.position="fixed",document.body.style.width="100%",h(!0);else if(!t&&j){var x=-1*parseInt(document.body.style.top||"0");document.body.style.top="",document.body.style.position="",document.body.style.width="",x>0&&window.scrollTo(0,x),h(!1)}return Object(N.jsxs)(dn,{open:t,width:c,children:[r?Object(N.jsx)("div",{id:"background"}):null,Object(N.jsx)("div",{id:"content",ref:u,children:e})]})},un=_.a.div(p||(p=Object(D.a)(["\n    display: inline-flex;\n    flex-direction: column;\n    margin: 5px;\n    background-color: #FFF;\n    border: 1px solid #AAA;\n    border-radius: 5px;\n    width: ",";\n    box-shadow: 1px 1px 3px #BBB;\n\n    & header {\n        font-weight: bold;\n        padding: 10px;\n        border-bottom: 1px solid #AAA;\n    }\n\n    & section {\n        display: flex;\n        justify-content: center;\n        flex-grow: 1;\n    }\n\n    & footer {\n        border-top: 1px solid #AAA;\n    }\n"])),(function(n){return n.width})),bn=function(n){var e=n.children,t=n.width,i=void 0===t?"max-content":t;return Object(N.jsx)(un,{width:i,children:e})},pn=["tableHeading","header","data","size"],jn=_.a.div(j||(j=Object(D.a)(["\n    display: inline-flex;\n    flex-direction: column;\n    align-items: flex-start;\n    margin: 5px;\n\n    & > h4 {\n        align-self: center;\n        margin: 5px;\n    }\n"]))),hn=function(n){var e=n.tableHeading,t=void 0===e?"":e,i=n.header,r=void 0===i?[]:i,o=n.data,c=void 0===o?[]:o,a=n.size,l=void 0===a?"medium":a,d=Object(Y.a)(n,pn);return Object(N.jsxs)(jn,{children:[t.length>0?Object(N.jsx)("h4",{children:t}):null,Object(N.jsxs)(G,Object(W.a)(Object(W.a)({size:l},d),{},{children:[Object(N.jsx)("thead",{children:Object(N.jsx)("tr",{children:r.map((function(n,e){return Object(N.jsx)("th",{children:n},"thead-".concat(e,"-").concat(n))}))})}),Object(N.jsx)("tbody",{children:c.map((function(n,e){return Object(N.jsx)("tr",{children:n.map((function(n,e){return Object(N.jsx)("td",{children:n},"tdata-".concat(e,"-").concat(n))}))},"tbody-".concat(e))}))})]}))]})},xn=function(n,e){return n.tableHeading===e.tableHeading&&(n.size===e.size&&((!n.header||n.header.toString()===e.header.toString())&&(!n.data||n.data.toString()===e.data.toString())))},fn=Object(S.memo)(hn,xn),On=_.a.div(h||(h=Object(D.a)(["\n    background-color: ",";\n    color: ",";\n    width: ",";\n    border-radius: 5px;\n    margin: ",";\n    display: inline-block;\n    position: relative;\n\n    & .label {\n        transition: 0.3s;\n        padding: 5px;\n    }\n\n    & .label:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n\n    & .confirmation.visible {\n        opacity: 1;\n        pointer-events: all;\n        transition: 0.3s opacity;\n    }\n\n    & > .confirmation {\n        position: absolute;\n        width: 120px;\n        padding: 5px;\n        border: 1px solid black;\n        border-radius: 5px;\n        transition: 0.3s opacity;\n        opacity: 0;\n        pointer-events: none;\n        color: black;\n        background-color: white;\n    }\n\n    & > .confirmation.top {\n        bottom: calc(100% + 5px);\n        left: 50%;\n        transform: translateX(-50%);\n    }\n\n    & > .confirmation.bottom {\n        top: calc(100% + 5px);\n        left: 50%;\n        transform: translateX(-50%);\n    }\n\n    & > .confirmation.left {\n        right: calc(100% + 5px);\n        top: 50%;\n        transform: translateY(-50%);\n    }\n\n    & > .confirmation.right {\n        left: calc(100% + 5px);\n        top: 50%;\n        transform: translateY(-50%);\n    }\n\n    & .confirmation::after {\n        content: '';\n        display: block;\n        width: 8px;\n        height: 8px;\n        background-color: white;\n        position: absolute;\n        border-left: 1px solid black;\n        border-bottom: 1px solid black;\n    }\n\n    & .confirmation.top::after {\n        bottom: -5px;\n        left: 50%;\n        transform:  translateX(-50%) rotate(-45deg);\n    }\n\n    & .confirmation.bottom::after {\n        top: -5px;\n        left: 50%;\n        transform:  translateX(-50%) rotate(135deg);\n    }\n\n    & .confirmation.left::after {\n        right: -5px;\n        top: 50%;\n        transform:  translateY(-50%) rotate(-135deg);\n    }\n\n    & .confirmation.right::after {\n        left: -5px;\n        top: 50%;\n        transform:  translateY(-50%) rotate(45deg);\n    }\n\n    & > .confirmation span {\n        margin-bottom: 5px;\n    }\n\n    & > .confirmation > div {\n        display: inline-block;\n        padding: 4px;\n        width: 50px;\n        background-color: ",";\n        color: ",";\n        border-radius: 5px;\n        margin-top: 5px;\n    }\n\n    & .confirm {\n        background-color: var(--button-color-success) !important;\n    }\n\n    & > .confirmation > div:first-of-type {\n        margin-right: 5px;\n    }\n\n    & .confirm:hover, & .cancel:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n"])),(function(n){return n.color}),(function(n){return n.textColor?n.textColor:"black"}),(function(n){return n.width?n.width:"150px"}),(function(n){return n.margin?n.margin:"5px"}),(function(n){return n.color}),(function(n){return n.textColor?n.textColor:"black"})),mn=function(n){var e=n.label,t=void 0===e?"":e,i=n.onClick,r=void 0===i?function(){}:i,o=n.color,c=void 0===o?"#CCC":o,a=n.textColor,l=n.width,d=n.margin,s=n.direction,u=void 0===s?"top":s,b=Object(S.useState)(!1),p=Object(P.a)(b,2),j=p[0],h=p[1],x=Object(S.useState)(u),f=Object(P.a)(x,2),O=f[0],m=f[1],v=Object(S.useRef)(null);Object(S.useEffect)((function(){var n=function(n){v.current&&!v.current.contains(n.target)&&j&&h(!1)};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[v,j]);var g=function(){var n=v.current.getBoundingClientRect(),e=n.x>130,t=window.innerWidth-(n.x+n.width)>130,i=n.y>70,r=window.innerHeight-(n.y+n.height)>70,o={top:i,bottom:r,left:e,right:t};u!==O&&o[u]&&m(u),e||"left"!==u||m(y(o)),t||"right"!==u||m(y(o)),i||"top"!==u||m(y(o)),r||"bottom"!==u||m(y(o))},y=function(n){for(var e in n)if(n[e])return e;return u};return Object(N.jsxs)(On,{color:c,textColor:a,width:l,margin:d,children:[Object(N.jsx)("div",{ref:v,className:"label",onClick:function(){g(),h(!0)},children:Object(N.jsx)("div",{children:t})}),Object(N.jsxs)("div",{className:"confirmation".concat(j?" visible":""," ").concat(O),children:[Object(N.jsx)("span",{children:"Are you sure?"}),Object(N.jsx)("div",{className:"confirm",onClick:function(){h(!1),r()},children:"Yes"}),Object(N.jsx)("div",{className:"cancel",onClick:function(){h(!1)},children:"No"})]})]})},vn=function(n){var e=n.item,t=n.openEditModal,i=n.onDeleteItem,r=Object(S.useContext)(B).meals;return Object(N.jsxs)(bn,{width:"180px",children:[Object(N.jsx)("header",{children:e.name}),Object(N.jsx)("section",{children:Object(N.jsx)(fn,{noBorder:!0,data:[["Size",e.size+e.measurement],["Calories",e.calories]]})}),Object(N.jsxs)("footer",{children:[Object(N.jsx)(J,{label:"Edit",onClick:t(e),width:"80px",color:"var(--button-color-normal)"}),function(n){for(var e=!0,t=0;t<r.length;t++){if(void 0!==r[t].itemList.find((function(e){return e.id===n.id}))){e=!1;break}}return e}(e)?Object(N.jsx)(mn,{label:"Delete",width:"80px",color:"var(--button-color-caution)",onClick:i(e)}):null]})]})},gn=function(n){var e=n.item,t=void 0===e?{}:e,i=n.editing,r=void 0!==i&&i,o=n.onFinish,c=n.onCancel,a=Object(S.useState)(t.name||""),l=Object(P.a)(a,2),d=l[0],s=l[1],u=Object(S.useState)(t.size||0),b=Object(P.a)(u,2),p=b[0],j=b[1],h=Object(S.useState)(t.measurement||"g"),x=Object(P.a)(h,2),f=x[0],O=x[1],m=Object(S.useState)(t.calories||0),v=Object(P.a)(m,2),g=v[0],y=v[1],k=Object(S.useState)(""),w=Object(P.a)(k,2),C=w[0],E=w[1];if(r&&void 0===t.name)return null;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("header",{style:{fontWeight:"bold"},children:r?Object(N.jsx)("span",{children:d}):"New Item"}),Object(N.jsxs)("section",{children:[Object(N.jsx)(U,{type:"text",autoFocus:!0,placeholder:"Item Name",labelText:"Name",labelWidth:"150",value:d,onChange:function(n){s(n),E("")}}),Object(N.jsx)("br",{}),Object(N.jsxs)(ln,{columnTemplate:"1fr 1fr",children:[Object(N.jsx)(U,{type:"number",labelText:"Size",labelWidth:"150",value:p,onChange:function(n){j(n),E("")}}),Object(N.jsx)(V,{labelText:"Measurement",value:f,labelWidth:"150",width:"100",options:["g","ml"," items"],onChange:function(n){return O(n)}}),Object(N.jsx)(U,{type:"number",labelText:"Calories",labelWidth:"150",value:g,onChange:function(n){return y(n)}})]}),C.length>0?Object(N.jsx)("p",{style:{color:"red"},children:C}):null]}),Object(N.jsxs)("footer",{children:[Object(N.jsx)(J,{label:"Save",onClick:function(){if(""!==d)if(0!==p){var n=Object(W.a)(Object(W.a)({},t),{},{name:d,size:p,measurement:f,calories:g});o(n)}else E("Please set the size");else E("Please give the meal a name")},color:"var(--button-color-success)"}),Object(N.jsx)(J,{label:"Cancel",onClick:c,color:"var(--button-color-caution)"})]})]})},yn=_.a.div(x||(x=Object(D.a)(["\n    & div#itemContainer {\n        display: flex;\n        flex-wrap: wrap;\n    }\n"]))),kn=function(){var n=Object(S.useContext)(B),e=n.items,t=n.dispatch,i=Object(S.useState)("Name"),r=Object(P.a)(i,2),o=r[0],c=r[1],a=Object(S.useState)(!1),l=Object(P.a)(a,2),d=l[0],s=l[1],u=Object(S.useState)(!1),b=Object(P.a)(u,2),p=b[0],j=b[1],h=Object(S.useState)(void 0),x=Object(P.a)(h,2),f=x[0],O=x[1],m=function(n){return function(){O(n),s(!0)}},v=function(){s(!1),j(!1)},g=function(n){return function(){t({type:"DELETE_ITEM",payload:n})}},y=$(o,e);return Object(N.jsxs)(yn,{children:[Object(N.jsx)("h3",{children:"Items"}),Object(N.jsxs)(R,{children:[Object(N.jsxs)(ln,{columnTemplate:"1fr 1fr 1fr",children:[Object(N.jsx)("div",{}),Object(N.jsx)("div",{children:Object(N.jsx)(J,{label:"Add New Item",color:"var(--button-color-normal)",onClick:function(){j(!0)}})}),Object(N.jsx)("div",{children:Object(N.jsx)(V,{labelText:"Sort By",value:o,options:["Name","Calories","Size"],onChange:function(n){c(n)}})})]}),Object(N.jsx)("div",{id:"itemContainer",children:y.map((function(n){return Object(N.jsx)(vn,{item:n,openEditModal:m,onDeleteItem:g},n.id)}))}),Object(N.jsx)("p",{children:"Note: You can't delete an item being used in a meal."})]}),Object(N.jsx)(sn,{open:d,closeFunc:v,children:d?Object(N.jsx)(gn,{item:f,editing:!0,onFinish:function(n){s(!1),O(void 0),t({type:"EDIT_ITEM",payload:n})},onCancel:v}):null}),Object(N.jsx)(sn,{open:p,closeFunc:v,children:p?Object(N.jsx)(gn,{onFinish:function(n){t({type:"ADD_ITEM",payload:n}),j(!1)},onCancel:v}):null})]})},wn=t(18),Cn=Object(_.a)(G)(f||(f=Object(D.a)(["\n    margin-top: 20px;\n    border-collapse: separate;\n    border-spacing: 0;\n    border: none;\n\n    & tr > td:not(:first-child) {\n        padding: 0px;\n        width: 200px;\n    }\n\n    thead > tr > th:first-child {\n        background-color: transparent;\n        border: 1px solid transparent;\n\n        & > div {\n            height: 30px;\n        }\n    }\n\n    thead > tr > th:nth-child(2) {\n        border-top-left-radius: 5px;\n        border-left: 1px solid var(--menu-border-color);\n    }\n\n    thead > tr > th:last-child {\n        border-right: 1px solid var(--menu-border-color);\n    }\n\n    thead > tr > th {\n        border-top: 1px solid var(--menu-border-color);\n        border-right: 1px solid var(--menu-border-color);\n    }\n\n    tbody > tr > td:first-child {\n        background-color: var(--table-header-color);\n        border-bottom: 1px solid var(--menu-border-color);\n        border-left: 1px solid var(--menu-border-color);\n        font-weight: bold;\n    }\n\n    tbody > tr:nth-last-child(2) > td:first-child {\n        border-bottom: none;\n    }\n\n    tbody > tr:first-child > td:first-child {\n        border-top-left-radius: 5px;\n        border-top: 1px solid var(--menu-border-color);\n    }\n\n    tbody > tr.hidden > td {\n        background-color: transparent;\n        border: none;\n        border-top: 1px solid var(--menu-border-color);\n        \n        & > div {\n            height: 30px;\n        }\n    }\n\n    tr > td:last-child {\n        border-right: 1px solid var(--menu-border-color);\n    }\n"]))),En=_.a.ul(O||(O=Object(D.a)(["\n    text-align: left;\n    border: 1px solid #DDD;\n    border-radius: 5px;\n    padding: 0px;\n    display: inline-block;\n    width: ",";\n    margin: 5px;\n\n    & > li {\n        border-bottom: 1px solid #DDD;\n        padding: 5px;\n        list-style: none;\n    }\n\n    & > li:last-child {\n        border-bottom: none;\n    }\n\n    & > h4 {\n        margin: 0px;\n        border-bottom: 1px solid #DDD;\n        padding: 5px;\n        text-align: center;\n        background-color: #DDD;\n    }\n"])),(function(n){return n.width})),Sn=function(n){var e=n.children,t=n.width,i=void 0===t?"150px":t,r=n.heading,o=void 0===r?"":r;return Object(N.jsxs)(En,{width:i,children:[o.length>0?Object(N.jsx)("h4",{children:o}):null,e]})},Tn=_.a.div(m||(m=Object(D.a)(["\n    position: relative;\n    transition: 0.3s;\n    height: 100%;\n\n    & > div#name {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        width: 100%;\n        height: 100%;\n        padding: 7px 10px;\n        transition: 0.3s;\n        border: 1px solid transparent;\n        outline: 1px solid transparent;\n        outline-offset: 0px;\n        ",";\n\n        :hover {\n            cursor: pointer;\n        }\n    }\n\n    & div#meal {\n        display: flex;\n        height: 100%;\n        align-items: center;\n    }\n\n    & div#calories {\n        font-size: 0.8em;\n        color: gray;\n        position: relative;\n        top: 5px;\n    }\n\n    & > div#name.switching {\n        transition: 0.3s;\n        outline: 1px solid #AAA;\n        outline-offset: -3px;\n\n        :hover {\n            background-color: #CCC;\n        }\n    }\n\n    & > div#name.switchTarget {\n        border: 1px solid blue;\n        transition: 0.3s;\n    }\n\n    & > div.notSwitching {\n        background-color: #DDD;\n        color: #AAA;\n        cursor: not-allowed !important;\n        transition: 0.3s;\n    }\n\n    & > div#dropdown {\n        position: absolute;\n        background-color: white;\n        border: 1px solid blue;\n        width: 300px;\n        left: 50%;\n        top: calc(100% - 1px);\n        transform: translateX(-50%);\n        z-index: 2;\n\n        h4 {\n            margin: 5px;\n        }\n\n        ul {\n            width: calc(100% - 10px);\n            max-height: 260px;\n            overflow: scroll;\n\n            li:hover {\n                cursor: pointer;\n                background-color: #EEE;\n            }\n        }\n    }\n\n    & > div#dropdown.above {\n        top: auto;\n        bottom: calc(100% - 1px);\n    }\n\n"])),(function(n){return n.open?"border: 1px solid blue;":""})),In=function(n){var e=n.id,t=n.type,i=n.open,r=n.dayId,o=n.onChooseMeal,c=n.onClick,a=n.onClose,l=n.moveUp,d=n.moveDown,s=n.onSwitchStart,u=n.onSwitchEnd,b=n.switching,p=n.switchId,j=n.switchType,h=Object(S.useContext)(B),x=h.meals,f=h.items,O=h.planner,m=Object(S.useState)(!1),v=Object(P.a)(m,2),g=v[0],y=v[1],k=O.showCalories,w=Object(S.useRef)(null);Object(S.useEffect)((function(){var n=function(n){w.current&&!w.current.contains(n.target)&&i&&a()};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[w,i]);var C=x.filter((function(n){return n.type===t})),E=$("Name",C),T=0,I=x.find((function(n){return n.id===e}));I&&(T=I.itemList.map((function(n){var e=f.find((function(e){return e.id===n.id}));return e?Object(W.a)(Object(W.a)({},e),{},{qty:n.qty}):{}})).reduce((function(n,e){return n+parseInt(e.calories/e.size*e.qty)}),0));var A=function(){var n="breakfastId";return"Lunch"===t&&(n="lunchId"),"Dinner"===t&&(n="dinnerId"),n},L=t===j&&b?"switching":"";return r===p&&t===j&&b&&(L="switchTarget"),b&&t!==j&&(L="notSwitching"),Object(N.jsxs)(Tn,{open:i,children:[Object(N.jsxs)("div",{id:"name",className:L,onClick:function(n){if(!i){var e=n.target.closest("#name").getBoundingClientRect().bottom,o=30*E.length;o=o>260?260:o,e>window.innerHeight-90-o?y(!0):y(!1)}if(b&&t===j)u(r,A()),a();else{if(b&&t!==j)return;c()}},children:[Object(N.jsx)("div",{id:"meal",children:null===I||void 0===I?void 0:I.name}),k&&T>0?Object(N.jsxs)("div",{id:"calories",children:[T,"kcal"]}):null]}),i?Object(N.jsxs)("div",{id:"dropdown",className:g?"above":"",ref:w,children:[Object(N.jsx)("h4",{children:"Choose a Meal"}),Object(N.jsxs)("div",{children:[Object(N.jsx)(J,{label:"Up",onClick:function(){l(r,A(),t)},width:"50px"}),Object(N.jsx)(J,{label:"Down",onClick:function(){d(r,A(),t)},width:"60px"}),Object(N.jsx)(J,{label:"Switch",onClick:function(){s(r,t)},width:"70px"}),Object(N.jsx)(J,{label:"Clear",onClick:function(){var n=A();o(r,n,0),a()},width:"70px"})]}),Object(N.jsx)(Sn,{children:E.map((function(n,e){return Object(N.jsx)("li",{onClick:(t=n.id,function(){var n=A();o(r,n,t),a()}),children:n.name},n.id);var t}))}),0===E.length?Object(N.jsx)("div",{style:{marginBottom:"10px"},children:"No Meals Created"}):null]}):null]})},An=_.a.div(v||(v=Object(D.a)(["\n    margin: 0px 20px;\n"]))),Ln=function(n){var e=n.dailyMeals,t=n.allMeals,i=Object(S.useContext)(B),r=i.planner,o=i.meals,c=i.dispatch,a=r.days,l=Object(S.useState)(0),d=Object(P.a)(l,2),s=d[0],u=d[1],b=Object(S.useState)(!1),p=Object(P.a)(b,2),j=p[0],h=p[1],x=Object(S.useState)(0),f=Object(P.a)(x,2),O=f[0],m=f[1],v=Object(S.useState)(""),g=Object(P.a)(v,2),y=g[0],k=g[1],w=o.filter((function(n){return"Breakfast"===n.type})),C=o.filter((function(n){return"Lunch"===n.type})),E=o.filter((function(n){return"Dinner"===n.type}));w.unshift({id:0,name:"Empty"}),C.unshift({id:0,name:"Empty"}),E.unshift({id:0,name:"Empty"});var T=function(n){return function(){u(n)}},I=function(){u(0)},A=function(n,t,i){var r=e.find((function(e){return e.id===n})),o=Object(W.a)({},r);o[t]=i,c({type:"EDIT_PLANNER_MEAL",payload:o})},L=function(n,e){h(!0),m(n),k(e),I()},D=function(n,t){if(O!==n){var i=e.find((function(n){return n.id===O})),r=e.find((function(e){return e.id===n}));z(i,r,t,y),h(!1)}else h(!1)},_=function(n,t,i){var r=e.find((function(e){return e.id===n}));if(void 0!==r){var o=e.indexOf(r),c=o>0?o-1:e.length-1,a=e[c];z(r,a,t,i)}},M=function(n,t,i){var r=e.find((function(e){return e.id===n}));if(void 0!==r){var o=e.indexOf(r),c=o<e.length-1?o+1:0,a=e[c];z(r,a,t,i)}},F=function(n){var i=t.indexOf(e),r=Object(Z.a)(t);return r[i]=n,r},z=function(n,e,t,i){var r=n[t],o=e[t],a=Object(W.a)({},n);a[t]=o;var l=Object(W.a)({},e);l[t]=r,c({type:"EDIT_PLANNER_MEAL",payload:a}),c({type:"EDIT_PLANNER_MEAL",payload:l}),T("".concat(l.id,"-").concat(i))()},R=function(n,e,t){var i="".concat(t,"-").concat(e);return Object(N.jsx)(In,{id:n,type:e,open:s===i,dayId:t,onChooseMeal:A,onClick:T(i),onClose:I,moveUp:_,moveDown:M,onSwitchStart:L,onSwitchEnd:D,switching:j,switchId:O,switchType:y})},Y=[];return e.forEach((function(n,e){e<a&&Y.push(n)})),Object(N.jsx)(An,{children:Object(N.jsxs)(Cn,{children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:Object(N.jsx)(J,{label:Object(N.jsx)(wn.b,{}),color:"var(--button-color-normal)",width:"50px",iconTop:"-2px",onClick:function(){var n=Object(Z.a)(e),t=n.pop();n.unshift(t);var i=F(n);c({type:"SET_DAILY_MEALS",payload:i})}})}),Object(N.jsx)("th",{children:"Breakfast"}),Object(N.jsx)("th",{children:"Lunch"}),Object(N.jsx)("th",{children:"Dinner"})]})}),Object(N.jsxs)("tbody",{children:[Y.map((function(n){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:n.day}),Object(N.jsx)("td",{children:R(n.breakfastId,"Breakfast",n.id)}),Object(N.jsx)("td",{children:R(n.lunchId,"Lunch",n.id)}),Object(N.jsx)("td",{children:R(n.dinnerId,"Dinner",n.id)})]},"meal-".concat(n.id))})),Object(N.jsxs)("tr",{className:"hidden",children:[Object(N.jsx)("td",{children:Object(N.jsx)(J,{label:Object(N.jsx)(wn.a,{}),color:"var(--button-color-normal)",width:"50px",iconTop:"-2px",onClick:function(){var n=Object(Z.a)(e),t=n.shift();n.push(t);var i=F(n);c({type:"SET_DAILY_MEALS",payload:i})}})}),Object(N.jsx)("td",{}),Object(N.jsx)("td",{}),Object(N.jsx)("td",{})]})]})]})})},Dn=_.a.div(g||(g=Object(D.a)(["\n    position: absolute;\n    border-radius: 5px;\n    padding: 5px;\n    z-index: 2;\n    background-color: var(--background-color);\n    top: 100%;\n    border: 1px solid var(--button-color-caution);\n    left: 5px;\n    width: calc(100% - 10px);\n\n    & > h4 {\n        margin: 5px;\n    }\n\n    & > p {\n        margin-top: 5px;\n        margin-bottom: 5px;\n    }\n"]))),_n=function(n){var e=n.message,t=void 0===e?"":e,i=n.onConfirm,r=n.onCancel,o=Object(S.useRef)(null);return Object(S.useEffect)((function(){var n=function(n){o.current&&!o.current.contains(n.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[o]),Object(N.jsxs)(Dn,{ref:o,children:[Object(N.jsx)("h4",{children:"Please Confirm"}),Object(N.jsx)("p",{children:t}),Object(N.jsx)(J,{label:"Continue",width:"100px",onClick:i,color:"var(--button-color-success)"}),Object(N.jsx)(J,{label:"Cancel",width:"100px",onClick:r,color:"var(--button-color-caution)"})]})},Mn=_.a.div(y||(y=Object(D.a)(["\n    & div#weekDiv {\n        display: inline-block;\n        position: relative;\n    }\n    \n    & div#plannerDiv {\n        display: flex;\n        justify-content: center;\n        flex-wrap: wrap;\n    }\n"]))),Nn=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Fn=function(n){var e=Nn.indexOf(n)+1;return Nn[e%7]},zn=function(n){var e=1;return n.forEach((function(n){n.forEach((function(n){n.id>e&&(e=n.id)}))})),e+1},Pn=function(n,e,t){e<7&&(e=7),e>21&&(e=21);var i=n[n.length-1].day;i=Fn(i);for(var r=zn(t),o=n.length,c=Object(Z.a)(n),a=0;a<e-o;a++)c.push({id:r,day:i,breakfastId:0,lunchId:0,dinnerId:0}),i=Fn(i),r++;return c},Bn=function(n,e){var t=Object(Z.a)(n);return t.length>e&&(e<7&&(e=7),t=n.slice(0,e)),t},Rn=function(n,e,t){for(var i=[],r=zn(t),o=n,c=0;c<e;c++)i.push({id:r++,day:o,breakfastId:0,lunchId:0,dinnerId:0}),o=Fn(o);return i},Wn=function(){var n=Object(S.useContext)(B),e=n.planner,t=n.dispatch,i=e.days,r=e.people,o=e.showCalories,c=e.dailyMeals,a=Object(S.useState)({show:!1,value:1}),l=Object(P.a)(a,2),d=l[0],s=l[1];return Object(S.useEffect)((function(){for(var n=[],e=0;e<r;e++){var o=[],a=c[e];o=a.length<i?Pn(a,i,[].concat(Object(Z.a)(c),n)):a.length>i?Bn(a,i):a,n.push(o)}t({type:"SET_DAILY_MEALS",payload:n})}),[i]),Object(N.jsxs)(Mn,{children:[Object(N.jsx)("h3",{children:"Planner"}),Object(N.jsxs)("div",{id:"weekDiv",children:[Object(N.jsx)(U,{type:"number",labelText:"Number of Weeks",value:i/7,onChange:function(n){n>3&&(n=3),n<1&&(n=1),n<i/7?s({show:!0,value:n}):t({type:"SET_DAYS",payload:7*n})},min:1,max:3}),!0===d.show?Object(N.jsx)(_n,{message:"Doing this will permanently remove any meals in the week being removed. Are you sure you want to continue?",onConfirm:function(){var n=d.value;t({type:"SET_DAYS",payload:7*n}),s({show:!1,value:1})},onCancel:function(){s({show:!1,value:1})}}):Object(N.jsx)("div",{})]}),Object(N.jsx)(U,{type:"number",labelText:"Number of People",value:r,onChange:function(n){n<1&&(n=1);var e=c.length,r=c[0][0].day,o=Object(Z.a)(c);if(e<n)for(var a=e;a<n;a++){var l=Rn(r,i,c);o.push(l)}else if(e>n)for(var d=n;d<e;d++)o.pop();t({type:"SET_NUMBER_PEOPLE",payload:n}),t({type:"SET_DAILY_MEALS",payload:o})},min:1,max:3}),Object(N.jsx)(U,{type:"checkbox",labelText:"Show Calories",value:o,onChange:function(n){t({type:"SET_SHOW_CALORIES",payload:n})}}),Object(N.jsx)("br",{}),Object(N.jsx)("div",{id:"plannerDiv",children:c.map((function(n,e){return Object(N.jsx)("div",{children:Object(N.jsx)(Ln,{dailyMeals:n,allMeals:c})},"planner-"+e)}))})]})},Yn=function(n){var e=n.meal,t=n.getCalories,i=n.openEditModal,r=n.onDeleteItem;return Object(N.jsxs)(bn,{width:"200px",children:[Object(N.jsx)("header",{children:e.name}),Object(N.jsx)("section",{children:Object(N.jsx)(fn,{noBorder:!0,data:[["Type",e.type],["Calories",t(e)]]})}),Object(N.jsxs)("footer",{children:[Object(N.jsx)(J,{label:"Edit",onClick:i(e),width:"80px",color:"var(--button-color-normal)"}),Object(N.jsx)(mn,{label:"Delete",width:"80px",color:"var(--button-color-caution)",onClick:r(e)})]})]},e.id)},qn=_.a.div(k||(k=Object(D.a)(["\n    & div#mealContainer {\n        display: flex;\n        justify-content: center;\n        flex-wrap: wrap;\n    }\n"]))),Hn=function(n){var e=n.mealsInGroup,t=n.heading,i=n.openEditModal,r=Object(S.useContext)(B),o=r.meals,c=r.items,a=r.dispatch,l=function(n){return function(){a({type:"DELETE_MEAL",payload:n})}},d=function(n){var e=0,t=o.find((function(e){return e.id===n.id}));t&&(e=t.itemList.map((function(n){var e=c.find((function(e){return e.id===n.id}));return e?Object(W.a)(Object(W.a)({},e),{},{qty:n.qty}):{calories:0}})).reduce((function(n,e){return 0===e.calories?n:n+parseInt(e.calories/e.size*e.qty)}),0));return e};return Object(N.jsxs)(qn,{children:[Object(N.jsx)("h4",{children:t}),Object(N.jsx)("div",{id:"mealContainer",children:e.map((function(n){return Object(N.jsx)(Yn,{meal:n,getCalories:d,openEditModal:i,onDeleteItem:l},"meal-"+n.id)}))}),0===e.length?Object(N.jsx)("p",{children:"No Meals"}):null]})},Un=function(n){var e=n.meal,t=void 0===e?{}:e,i=n.editing,r=void 0!==i&&i,o=n.onFinish,c=n.onCancel,a=Object(S.useContext)(B).items,l=Object(S.useState)(t.name||""),d=Object(P.a)(l,2),s=d[0],u=d[1],b=Object(S.useState)(t.itemList||[]),p=Object(P.a)(b,2),j=p[0],h=p[1],x=Object(S.useState)(t.type||"Dinner"),f=Object(P.a)(x,2),O=f[0],m=f[1],v=Object(S.useState)(""),g=Object(P.a)(v,2),y=g[0],k=g[1],w=a.filter((function(n){return void 0===j.find((function(e){return e.id===n.id}))})),C=w.length>0?w[0].id:0;if(r&&void 0===t.name)return null;var E=function(n){return function(e){var t=j.map((function(t,i){return i===n?Object(W.a)(Object(W.a)({},t),{},{qty:e}):t}));h(t)}},T=function(n){return function(){var e=j.filter((function(e,t){return t!==n}));h(e)}},I=$("Name",a);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("header",{style:{fontWeight:"bold"},children:r?Object(N.jsx)("span",{children:s}):"New Item"}),Object(N.jsxs)("section",{children:[Object(N.jsx)(U,{type:"text",autoFocus:!0,placeholder:"Item Name",labelText:"Name",labelWidth:"150",width:"200",value:s,onChange:function(n){u(n),k("")}}),Object(N.jsx)("br",{}),Object(N.jsx)(V,{labelText:"Type",width:"120",value:O,options:["Breakfast","Lunch","Dinner"],onChange:function(n){return m(n)}}),Object(N.jsx)("br",{}),j.map((function(n,e){var t,i=function(n){var e=a.find((function(e){return e.id===n}));if(!e)return"Qty";var t=e.measurement;return" items"===t?t="Qty":"g"===t&&(t="Grams"),t}(n.id);return Object(N.jsxs)("div",{children:[Object(N.jsx)(V,{labelText:"Item",width:"150",value:n.id,options:I.map((function(n){return{value:n.id,display:"".concat(n.name," (").concat(n.size).concat(n.measurement,")")}})),onChange:(t=e,function(n){var e=j.map((function(e,i){return i===t?Object(W.a)(Object(W.a)({},e),{},{id:n}):e}));h(e),k("")})}),Object(N.jsx)(U,{type:"number",labelText:i,labelWidth:"100",width:"70",value:n.qty,onChange:E(e)}),Object(N.jsx)(J,{label:Object(N.jsx)(X.a,{}),color:"var(--button-color-caution)",iconSize:"1.2em",width:"50px",onClick:T(e)}),Object(N.jsx)("br",{})]},"itemList-".concat(e))})),a.length>0?Object(N.jsx)(J,{label:"Add New Item",color:"var(--button-color-normal)",width:"150px",onClick:function(){var n={id:C,qty:1},e=[].concat(Object(Z.a)(j),[n]);h(e),k("")}}):Object(N.jsx)("p",{children:"Please add an item before creating a meal"}),y.length>0?Object(N.jsx)("p",{style:{color:"red"},children:y}):null]}),Object(N.jsxs)("footer",{children:[Object(N.jsx)(J,{label:"Save",onClick:function(){if(""!==s)if(0!==j.length){var n=Object(W.a)(Object(W.a)({},t),{},{name:s,type:O,itemList:j});o(n)}else k("Please add an item to the meal");else k("Please give the meal a name")},color:"var(--button-color-success)"}),Object(N.jsx)(J,{label:"Cancel",onClick:c,color:"var(--button-color-caution)"})]})]})},Gn=function(){var n=Object(S.useContext)(B),e=n.meals,t=n.dispatch,i=Object(S.useState)(!1),r=Object(P.a)(i,2),o=r[0],c=r[1],a=Object(S.useState)(!1),l=Object(P.a)(a,2),d=l[0],s=l[1],u=Object(S.useState)(void 0),b=Object(P.a)(u,2),p=b[0],j=b[1],h=function(n){return function(){j(n),c(!0)}},x=function(){c(!1),s(!1)},f=function(n){var e={breakfast:[],lunch:[],dinner:[]};return n.forEach((function(n){"Breakfast"===n.type&&e.breakfast.push(n),"Lunch"===n.type&&e.lunch.push(n),"Dinner"===n.type&&e.dinner.push(n)})),e}(e);return Object(N.jsxs)("div",{children:[Object(N.jsx)("h3",{children:"Meals"}),Object(N.jsxs)(R,{children:[Object(N.jsx)(J,{label:"Add New Meal",color:"var(--button-color-normal)",onClick:function(){s(!0)}}),Object(N.jsx)(Hn,{heading:"Breakfast",mealsInGroup:f.breakfast,openEditModal:h}),Object(N.jsx)(Hn,{heading:"Lunch",mealsInGroup:f.lunch,openEditModal:h}),Object(N.jsx)(Hn,{heading:"Dinner",mealsInGroup:f.dinner,openEditModal:h})]}),Object(N.jsx)(sn,{open:o,closeFunc:x,children:o?Object(N.jsx)(Un,{meal:p,onFinish:function(n){c(!1),j(void 0),t({type:"EDIT_MEAL",payload:n})},onCancel:x}):null}),Object(N.jsx)(sn,{open:d,closeFunc:x,children:d?Object(N.jsx)(Un,{onFinish:function(n){t({type:"ADD_MEAL",payload:n}),s(!1)},onCancel:x}):null})]})},Kn=t(37),Jn=_.a.button(w||(w=Object(D.a)(["\n    background-color: var(--button-color-normal);\n    color: black;\n    width: 150px;\n    height: 28px;\n    border: none;\n    border-radius: 5px;\n    padding: 5px;\n    margin: 5px;\n    display: inline-block;\n    font-size: 1em;\n    vertical-align: bottom;\n\n    &:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n"]))),Xn=function(n){var e=n.data,t=n.filename,i=void 0===t?"Food Planner Backup - ".concat(Object(Kn.a)(new Date,"yyyy-MM-dd"),".json"):t;return Object(N.jsx)(Jn,{onClick:function(){var n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),t=document.createElement("a");t.setAttribute("href",n),t.setAttribute("download",i),t.click()},children:"Download"})},Qn=_.a.div(C||(C=Object(D.a)(["\n    display: inline-flex;\n    margin: 5px;\n\n    & > input {\n        display: none;\n    }\n\n    & > #filename {\n        width: 150px;\n        height: 28px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        display: inline-block;\n        padding: 5px;\n        border: 1px solid #DDD;\n        border-radius: 5px 0px 0px 5px;\n    }\n\n    & > #uploadButton {\n        display: inline-block;\n        height: 28px;\n        padding: 5px 10px;\n        background-color: var(--button-color-normal);\n        border-radius: 0px 5px 5px 0px;\n    }\n\n    & > #uploadButton:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n\n    & > #filename:hover {\n        cursor: pointer;\n    }\n"]))),Vn=function(n){var e=n.onUpload,t=void 0===e?function(){}:e,i=Object(S.useState)(null),r=Object(P.a)(i,2),o=r[0],c=r[1],a=Object(S.useState)("Choose a File"),l=Object(P.a)(a,2),d=l[0],s=l[1],u=Object(S.useRef)(null),b="fileUpload-"+Math.floor(100*Math.random());return Object(N.jsxs)(Qn,{children:[Object(N.jsx)("input",{type:"file",id:b,onChange:function(n){var e=n.target.files[0];if(void 0!==e)if(e.type.match("application/json")){var t=new FileReader;s(e.name),t.onload=function(n){var e=t.result,i=JSON.parse(e);c(i)},t.readAsText(e)}else c(null),s("Incorrect File Type")},ref:u}),Object(N.jsx)("label",{id:"filename",htmlFor:b,children:d}),Object(N.jsx)("div",{id:"uploadButton",onClick:function(){o?(s("File Uploaded"),t(o),c(null),u.current.value=""):s("Choose a File")},children:"Upload"})]})},Zn=_.a.div(E||(E=Object(D.a)(["\n\n"]))),$n=function(){var n=Object(S.useContext)(B),e=n.items,t=n.meals,i=n.planner,r=n.shoppingList,o=n.stockList,c=n.dispatch,a={items:e,meals:t,planner:i,shoppingList:r,stockList:o};return Object(N.jsxs)(Zn,{children:[Object(N.jsx)("h3",{children:"Settings"}),Object(N.jsxs)(R,{children:[Object(N.jsx)("h4",{children:"Download Backup"}),Object(N.jsx)(Xn,{data:a}),Object(N.jsx)("h4",{children:"Upload Backup"}),Object(N.jsx)("p",{children:"This will overwrite the data currently stored for the planner."}),Object(N.jsx)(Vn,{onUpload:function(n){c({type:"RESTORE_LOCAL",payload:n})}})]})]})};var ne=function(){return Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)(z,{}),Object(N.jsxs)(L.c,{children:[Object(N.jsx)(L.a,{path:"/",element:Object(N.jsx)(Wn,{})}),Object(N.jsx)(L.a,{path:"/shoppingList",element:Object(N.jsx)(cn,{})}),Object(N.jsx)(L.a,{path:"/items",element:Object(N.jsx)(kn,{})}),Object(N.jsx)(L.a,{path:"/meals",element:Object(N.jsx)(Gn,{})}),Object(N.jsx)(L.a,{path:"/settings",element:Object(N.jsx)($n,{})})]})]})},ee=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,38)).then((function(e){var t=e.getCLS,i=e.getFID,r=e.getFCP,o=e.getLCP,c=e.getTTFB;t(n),i(n),r(n),o(n),c(n)}))},te={meals:[],items:[],planner:{days:7,startDay:"Monday",people:1,showCalories:!0,dailyMeals:[[{id:1,day:"Monday",breakfastId:0,lunchId:0,dinnerId:0},{id:2,day:"Tuesday",breakfastId:0,lunchId:0,dinnerId:0},{id:3,day:"Wednesday",breakfastId:0,lunchId:0,dinnerId:0},{id:4,day:"Thursday",breakfastId:0,lunchId:0,dinnerId:0},{id:5,day:"Friday",breakfastId:0,lunchId:0,dinnerId:0},{id:6,day:"Saturday",breakfastId:0,lunchId:0,dinnerId:0},{id:7,day:"Sunday",breakfastId:0,lunchId:0,dinnerId:0}]]},shoppingList:{},stockList:[]},ie=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,t=e.payload;switch(e.type){case"SET_DAYS":return Object(W.a)(Object(W.a)({},n),{},{planner:Object(W.a)(Object(W.a)({},n.planner),{},{days:t})});case"SET_START_DAY":return Object(W.a)(Object(W.a)({},n),{},{planner:Object(W.a)(Object(W.a)({},n.planner),{},{startDay:t})});case"SET_NUMBER_PEOPLE":return Object(W.a)(Object(W.a)({},n),{},{planner:Object(W.a)(Object(W.a)({},n.planner),{},{people:t})});case"SET_SHOW_CALORIES":return Object(W.a)(Object(W.a)({},n),{},{planner:Object(W.a)(Object(W.a)({},n.planner),{},{showCalories:t})});case"SET_DAILY_MEALS":return Object(W.a)(Object(W.a)({},n),{},{planner:Object(W.a)(Object(W.a)({},n.planner),{},{dailyMeals:t})});case"SET_SHOPPING_LIST_ITEM_TRUE":return Object(W.a)(Object(W.a)({},n),{},{shoppingList:re(n.shoppingList,t,!0)});case"SET_SHOPPING_LIST_ITEM_FALSE":return Object(W.a)(Object(W.a)({},n),{},{shoppingList:re(n.shoppingList,t,!1)});case"CLEAR_SHOPPING_LIST":return Object(W.a)(Object(W.a)({},n),{},{shoppingList:{}});case"ADD_STOCK":return Object(W.a)(Object(W.a)({},n),{},{stockList:ce(t,n.stockList,!0)});case"EDIT_STOCK":return Object(W.a)(Object(W.a)({},n),{},{stockList:ae(t,n.stockList)});case"DELETE_STOCK":return Object(W.a)(Object(W.a)({},n),{},{stockList:le(t,n.stockList)});case"CLEAR_STOCK":return Object(W.a)(Object(W.a)({},n),{},{stockList:[]});case"ADD_ITEM":return Object(W.a)(Object(W.a)({},n),{},{items:ce(t,n.items)});case"EDIT_ITEM":return Object(W.a)(Object(W.a)({},n),{},{items:ae(t,n.items)});case"DELETE_ITEM":return Object(W.a)(Object(W.a)({},n),{},{items:le(t,n.items)});case"ADD_MEAL":return Object(W.a)(Object(W.a)({},n),{},{meals:ce(t,n.meals)});case"EDIT_MEAL":return Object(W.a)(Object(W.a)({},n),{},{meals:ae(t,n.meals)});case"DELETE_MEAL":return Object(W.a)(Object(W.a)({},n),{},{meals:le(t,n.meals)});case"EDIT_PLANNER_MEAL":return Object(W.a)(Object(W.a)({},n),{},{planner:Object(W.a)(Object(W.a)({},n.planner),{},{dailyMeals:oe(t,n.planner.dailyMeals)})});case"RESTORE_LOCAL":return Object(W.a)(Object(W.a)({},n),t);default:return n}},re=function(n,e,t){var i=Object(W.a)({},n);return i[e]=t,!1===t&&delete i[e],i},oe=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){return e.map((function(e){return e.id===n.id?n:e}))}))},ce=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t||(n.id=de()),[].concat(Object(Z.a)(e),[n])},ae=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){return e.id===n.id?n:e}))},le=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter((function(e){return e.id!==n.id}))},de=function(){return Object(Kn.a)(new Date,"T")},se=function(){var n=localStorage.getItem("food-planner-state");return void 0===(n=n?JSON.parse(n):te).planner&&(n.planner={}),n.planner=Object(W.a)(Object(W.a)({},te.planner),n.planner),n.switching=!1,n},ue=function(n){var e=n.children,t=Object(S.useReducer)(ie,{},se),i=Object(P.a)(t,2),r=i[0],o=i[1];return Object(S.useEffect)((function(){localStorage.setItem("food-planner-state",JSON.stringify(r))}),[r]),Object(N.jsx)(B.Provider,{value:Object(W.a)(Object(W.a)({},r),{},{dispatch:o}),children:e})};A.a.render(Object(N.jsx)(T.a.StrictMode,{children:Object(N.jsx)(ue,{children:Object(N.jsx)(M.a,{children:Object(N.jsx)(ne,{})})})}),document.getElementById("root")),ee()}},[[36,1,2]]]);
//# sourceMappingURL=main.1fa996ec.chunk.js.map