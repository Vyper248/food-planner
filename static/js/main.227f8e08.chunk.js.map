{"version":3,"sources":["components/MenuBar.js","state/context.js","components/Container.js","components/Input.js","components/Styled/StyledTable.js","components/BasicButton.js","components/Dropdown.js","containers/StockList.js","pages/ShoppingList.js","components/Card.js","components/TableBasic.js","components/ConfirmButtonPopup.js","components/Grid.js","components/Modal.js","containers/AddEditItem.js","pages/Items.js","functions.js","components/Styled/StyledMealTable.js","components/List.js","containers/MealDropdown.js","containers/Planner.js","pages/Home.js","containers/MealCard.js","containers/MealGroup.js","containers/AddEditMeal.js","pages/Meals.js","components/Download.js","components/Upload.js","pages/Settings.js","App.js","reportWebVitals.js","state/provider.js","index.js"],"names":["StyledComp","styled","div","MenuBar","to","className","Context","createContext","Container","props","labelWidth","labelAlign","width","labelText","Input","type","value","onChange","rest","length","e","number","parseFloat","target","isNaN","checked","onClick","StyledTable","table","size","color","textColor","margin","BasicButton","label","Dropdown","placeholder","options","Array","isArray","hidden","onChangeDropdown","undefined","map","option","display","Object","keys","key","array","subtype","StockList","useContext","context","stockList","items","dispatch","useState","itemToAdd","setItemToAdd","filteredItems","setFilteredItems","useEffect","filtered","filter","item","find","obj","id","first","onRemoveStock","payload","name","newItem","measurement","stock","stockObj","style","minWidth","tr","ListItem","qty","onClickCheckbox","ShoppingList","planner","meals","shoppingList","itemList","setItemList","listArr","getList","dailyMeals","checkIfChecked","addToList","itemsNeeded","mealId","meal","forEach","allMeals","personMeals","breakfastId","lunchId","dinnerId","itemId","qtyDetails","stockItem","qtyNeeded","Math","ceil","getQtyNeeded","push","Card","children","StyledContainer","TableBasic","tableHeading","header","data","a","i","r","d","i2","compareProps","prev","next","toString","memo","ConfirmButtonPopup","direction","confirmOpen","setConfirmOpen","userDirection","setDirection","ref","useRef","onClickOutside","current","contains","document","addEventListener","removeEventListener","checkDirection","rect","getBoundingClientRect","left","x","right","window","innerWidth","top","y","bottom","innerHeight","height","directions","getValidDirection","columnTemplate","Grid","open","Modal","darken","closeFunc","closeOnClickOutside","isOpen","setIsOpen","scrollY","body","position","parseInt","scrollTo","AddEditItem","editing","onFinish","onCancel","setName","setSize","setMeasurement","calories","setCalories","fontWeight","autoFocus","Items","sort","setSort","editOpen","setEditOpen","addOpen","setAddOpen","itemToEdit","setItemToEdit","openEditModal","closeModal","onDeleteItem","checkIfCanDelete","canDelete","itemObj","sortedItems","b","portions","sortArray","StyledMealTable","ul","List","heading","MealDropdown","dayId","onChooseMeal","onClose","moveUp","moveDown","onSwitchStart","onSwitchEnd","switching","switchId","switchType","showCalories","mealsOfType","totalCalories","thisMeal","reduce","c","getTypeKey","typeKey","switchingClass","objId","Planner","days","openId","setOpenId","setSwitching","setSwitchId","setSwitchType","breakfastMeals","lunchMeals","dinnerMeals","unshift","onOpenMeal","onCloseMeal","newObj","startSwitching","endSwitching","objA","objB","swapObjects","index","indexOf","adjustedIndex","getNewMealsArr","newPersonMeals","newArr","mealA","mealB","newObjA","newObjB","getMealDropdown","typeId","combinedId","mealsToDisplay","newArray","lastItem","pop","newMeals","day","firstItem","shift","daysOfWeek","getNextDay","dayIndex","getNextID","highestID","peopleMeals","addMeals","latestDay","latestID","currentDays","trimMeals","slice","getBlankMealPlanner","firstDay","newMealPlanner","nextID","nextDay","Home","people","newPeopleMeals","min","max","currentPeople","MealCard","getCalories","MealGroup","mealsInGroup","AddEditMeal","setType","onChangeQty","newItemList","getMeasurementText","Meals","mealToEdit","setMealToEdit","organisedMeals","breakfast","lunch","dinner","organiseMeals","button","Download","filename","format","Date","dataStr","encodeURIComponent","JSON","stringify","link","createElement","setAttribute","click","Upload","onUpload","importData","setImportData","fileName","setFileName","fileInput","uniqueId","floor","random","file","files","match","reader","FileReader","onload","text","result","parse","readAsText","htmlFor","Settings","backupData","App","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","startDay","reducer","state","action","updateShoppingList","addToArray","editArray","removeFromArray","editDailyMeals","newShoppingList","arr","peopleArr","ignoreId","getID","getFromLocalStorage","restoredState","localStorage","getItem","Provider","useReducer","setItem","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.227f8e08.chunk.js","sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nconst StyledComp = styled.div`\n    border-bottom: 1px solid gray;\n    background-color: white;\n    text-align: left;\n\n    & > a {\n        display: inline-block;\n        padding: 5px 10px;\n        text-decoration: none;\n        color: black;\n        border-right: 1px solid gray;\n    }\n\n    & > a:hover {\n        background-color: #EEE;\n    }\n\n    & > a.right {\n        float: right;\n        border-right: none;\n        border-left: 1px solid gray;\n    }\n`\n\nconst MenuBar = () => {\n    return (\n        <StyledComp>\n            <Link to='/'>Home</Link>\n            <Link to='/shoppingList'>Shopping List</Link>\n            <Link to='/items'>Items</Link>\n            <Link to='/meals'>Meals</Link>\n            <Link to='/settings' className='right'>Settings</Link>\n        </StyledComp>\n    );\n}\n\nexport default MenuBar;","import { createContext } from \"react\";\n\nconst Context = createContext({});\n\nexport default Context;","import styled from 'styled-components';\n\nconst Container = styled.div`\n    max-width: 1200px;\n    margin: auto;\n`\n\nexport default Container;","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledComp = styled.div`\n    margin: 5px;\n    height: 28px;\n    display: inline-flex;\n    white-space: nowrap;\n    position: relative;\n\n    & > label, & > input {\n        border: 1px solid #DDD;\n        height: 100%;\n        margin: 0px;\n        display: inline-flex;\n        align-items: center;\n        font-size: 1em;\n    }\n\n    & > label {\n        padding: 0px 10px;\n        background-color: rgb(239,239,239);\n        position: relative;\n        z-index: -1;\n        width: ${props => props.labelWidth ? props.labelWidth+'px' : ''};\n        ${props => props.labelAlign === 'right' ? 'justify-content: flex-end;' : ''}\n        ${props => props.labelAlign === 'center' ? 'justify-content: center;' : ''}\n        right: -25px; \n        padding-right: 35px; \n        margin-left: -25px; \n        border-radius: 20px 50px 50px 20px;\n    }\n\n    & > input {\n        padding: 5px;\n        border-radius: 5px;\n        width: ${props => props.width+'px'};\n        ${props => props.labelText ? 'border-radius: 0px 5px 5px 0px;' : ''};\n    }\n\n    & > input:focus {\n        outline: none;\n        border: 1px solid #66F;\n    }\n\n    & > input[type=button]:hover,\n    & > input[type=color]:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n\n    & > input[type=button] {\n        justify-content: center;\n        background-color: rgb(239,239,239);\n        padding: 0px;\n    }\n\n    & > input[type=color] {\n        padding: 2px 4px;\n    }\n\n    & > input[type=checkbox],\n    & > input[type=radio] {\n        width: 28px;\n        opacity: 0;\n        pointer-events: none;\n    }\n\n    & > input[type=radio] + span:hover,\n    & > input[type=checkbox] + span:hover {\n        cursor: pointer;\n    }\n\n    & > input[type=radio] + span {\n        display: inline-block;\n        border: 1px solid #DDD;\n        border-radius: 50%;\n        width: 28px;\n        height: 28px;\n        position: absolute;\n        right: 0px;\n        background-color: white;\n    }\n\n    & > input[type=radio]:checked + span:after {\n        content: '';\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        background-color: #077BFB;\n        position: absolute;\n        right: 5px;\n        top: calc(50% - 8px);\n    }\n\n    & > input[type=checkbox] + span {\n        display: inline-block;\n        border: 1px solid #DDD;\n        border-radius: 5px;\n        ${props => props.labelText ? 'border-radius: 0px 5px 5px 0px;' : ''};\n        width: 28px;\n        height: 28px;\n        position: absolute;\n        right: 0px;\n        background-color: white;\n    }\n\n    & > input[type=checkbox]:checked + span {\n        background-color: #077BFB;\n    }\n\n    & > input[type=checkbox]:checked + span:after {\n        content: '';\n        width: 5px;\n        height: 15px;\n        position: absolute;\n        right: 8px;\n        top: 2px;\n        border-bottom: 5px solid white;\n        border-right: 5px solid white;\n        transform: rotate(45deg);\n    }\n`;\n\nconst Input = ({type='text', value, onChange, width=100, labelText='', labelWidth, labelAlign='right', ...rest}) => {\n    if (type === 'date' && width === 100) width = 142; //minimum width\n\n    const changeInput = (e) => {\n        if (type === 'number') {\n            let number = parseFloat(e.target.value);\n            if (isNaN(number)) number = '';\n            onChange(number);\n        } else {\n            onChange(e.target.value);\n        }\n    }\n\n    const onClickSpan = () => {\n        if (type === 'checkbox') onChange(!value);\n        else if (type === 'radio') onChange(value);\n    }\n\n    return (\n        <StyledComp width={width} labelText={labelText && labelText.length > 0} labelWidth={labelWidth} labelAlign={labelAlign}>\n            { labelText && labelText.length > 0 ? <label>{labelText}</label> : <span></span> }\n            <input type={type} value={value} onChange={changeInput} checked={type === 'checkbox' ? !!value : false} {...rest}/>\n            <span onClick={onClickSpan}></span>\n        </StyledComp>\n    );\n}\n\nexport default Input;","import styled from 'styled-components';\n\nconst StyledTable = styled.table`\n    border-collapse: collapse;\n    width: auto;\n    margin: auto;\n\n    th, td {\n        padding: 7px 10px;\n        ${props => props.size === 'small' ? 'padding: 4px 7px;' : ''};\n        ${props => props.size === 'large' ? 'padding: 10px 15px;' : ''};\n        border-right: 1px solid #CCC;\n        height: 1px;\n    }\n\n    td.input {\n        padding: 0px;\n    }\n\n    thead {\n        th:first-child {\n            border-top-left-radius: 5px;\n        }\n    \n        th:last-child {\n            border-top-right-radius: 5px;\n        }\n    \n        th {\n            border-bottom: 1px solid black;\n            background-color: #DDD;\n            min-width: 100px;\n        }\n    \n        th:last-child,\n        td:last-child {\n            border-right: none;\n        }\n    }\n\n    tr:last-child {\n        border-bottom: none;\n    }\n\n    tr:nth-child(2n) td {\n        background-color: #EEE;\n    }\n`;\n\nexport default StyledTable;","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledComp = styled.div`\n    background-color: ${props => props.color};\n    color: ${props => props.textColor ? props.textColor : 'black'};\n    width: ${props => props.width ? props.width : '150px'};\n    border-radius: 5px;\n    padding: 5px;\n    margin: ${props => props.margin ? props.margin : '5px'};\n    display: inline-block;\n    height: 28px;\n\n    & > svg {\n        font-size: 1.5em;\n        position: relative;\n        top: -2px;\n    }\n\n    &:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n`;\n\nconst BasicButton = ({label='', onClick=()=>{}, color='#CCC', textColor, width, margin}) => {\n    return (\n        <StyledComp \n            color={color} \n            textColor={textColor}\n            width={width} \n            margin={margin} \n            onClick={onClick}>{label}</StyledComp>\n    );\n}\n\nexport default BasicButton;","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledComp = styled.div`\n    margin: 5px;\n    height: 28px;\n    display: inline-flex;\n    white-space: nowrap;\n    position: relative;\n\n    & > label {\n        border: 1px solid #DDD;\n        height: 100%;\n        margin: 0px;\n        display: inline-flex;\n        align-items: center;\n        font-size: 1em;\n        padding: 0px 10px;\n        background-color: rgb(239,239,239);\n        position: relative;\n        z-index: -1;\n        width: ${props => props.labelWidth ? props.labelWidth+'px' : ''};\n        ${props => props.labelAlign === 'right' ? 'justify-content: flex-end;' : ''}\n        ${props => props.labelAlign === 'center' ? 'justify-content: center;' : ''}\n        right: -25px; \n        padding-right: 35px; \n        margin-left: -25px; \n        border-right: none; \n        border-radius: 5px 0px 0px 5px;\n        justify-content: end;\n    }\n\n    & > select {\n        border: 1px solid #DDD;\n        background-color: white;\n        -webkit-appearance:none;\n        height: 100%;\n        margin: 0px;\n        display: inline-flex;\n        align-items: center;\n        font-size: 1em;\n        padding: 0px 25px 0px 5px;\n        border-radius: 5px;\n        width: ${props => props.width+'px'};\n        ${props => props.labelText ? 'border-radius: 0px 5px 5px 0px;' : ''};\n        text-overflow: ellipsis;\n    }\n\n    &::after {\n        content: '';\n        position: absolute;\n        right: 8px;\n        top: calc(50% - 5px);\n        border-top: 10px solid black;\n        border-left: 6px solid transparent;\n        border-right: 6px solid transparent;\n    }\n\n    & > select:hover {\n        cursor: pointer;\n    }\n\n    & > select:focus {\n        outline: none;\n    }\n`;\n\nconst Dropdown = ({placeholder='Select an Option', labelText='', width=150, labelWidth, value, options=[], onChange}) => {\n    let type;\n    if (Array.isArray(options) && options.length === 0) return (\n        <StyledComp width={width} labelText={labelText && labelText.length > 0}>\n            { labelText && labelText.length > 0 ? <label>{labelText}</label> : null }\n            <select>\n                <option hidden>No More Items</option>\n            </select>\n        </StyledComp>\n    );\n    if (Array.isArray(options) && typeof options[0] === 'string') type = 'basic';\n    if (Array.isArray(options) && typeof options[0] === 'object') type = 'advanced';\n    if (typeof options === 'object' && !Array.isArray(options)) type = 'groups';\n\n    const onChangeDropdown = (e) => {\n        let value = e.target.value;\n        onChange(value);\n    }\n\n    if (type === 'basic') return (\n        <StyledComp width={width} labelWidth={labelWidth} labelText={labelText && labelText.length > 0}>\n            { labelText && labelText.length > 0 ? <label>{labelText}</label> : null }\n            <select value={value} onChange={onChangeDropdown}>\n                <option hidden value={undefined}>{placeholder}</option>\n                { options.map(option => <option key={`dropdown-${option}`} value={option}>{option}</option>) }\n            </select>\n        </StyledComp>\n    );\n\n    if (type === 'advanced') return (\n        <StyledComp width={width} labelWidth={labelWidth}  labelText={labelText && labelText.length > 0}>\n            { labelText && labelText.length > 0 ? <label>{labelText}</label> : null }\n            <select value={value} onChange={onChangeDropdown}>\n                <option hidden value={undefined}>{placeholder}</option>\n                { options.map(option => <option key={`dropdown-${option.value}`} value={option.value}>{option.display}</option>) }\n            </select>\n        </StyledComp>\n    )\n\n    if (type === 'groups') return (\n        <StyledComp width={width} labelWidth={labelWidth}  labelText={labelText && labelText.length > 0}>\n            { labelText && labelText.length > 0 ? <label>{labelText}</label> : null }\n            <select value={value} onChange={onChangeDropdown}>\n                <option hidden value={undefined}>{placeholder}</option>\n                { Object.keys(options).map(key => {\n                    let array = options[key];\n                    let subtype = 'basic';\n                    if (typeof array[0] === 'object') subtype = 'advanced';\n\n                    if (subtype === 'basic') return (\n                        <optgroup label={key} key={`dropdown-group-${key}`}>\n                            { array.map(option => <option key={`dropdown-${option}`} value={option}>{option}</option>)}\n                        </optgroup>\n                    );\n\n                    if (subtype === 'advanced') return (\n                        <optgroup label={key} key={`dropdown-group-${key}`}>\n                            { array.map(option => <option key={`dropdown-${option.value}`} value={option.value}>{option.display}</option>)}\n                        </optgroup>\n                    );\n\n                    return null;\n                }) }\n            </select>\n        </StyledComp>\n    )\n\n    return null;\n}\n\nexport default Dropdown;","import { useContext, useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\nimport context from '../state/context';\n\nimport Container from '../components/Container';\nimport Dropdown from '../components/Dropdown';\nimport BasicButton from '../components/BasicButton';\nimport StyledTable from '../components/Styled/StyledTable';\nimport Input from '../components/Input';\n\nconst StyledComp = styled.div`\n    & tr {\n        border: 1px solid #CCC !important;\n    }\n`\n\nconst StockList = () => {\n    const { stockList=[], items, dispatch } = useContext(context);\n\n    const [ itemToAdd, setItemToAdd ] = useState('');\n    const [ filteredItems, setFilteredItems ] = useState([]);\n\n    useEffect(() => {\n        const filtered = items.filter(item => {\n            let checkItem = stockList.find(obj => obj.id === item.id);\n            if (checkItem) return false;\n            return true;\n        });\n\n        const first = filtered[0]?.id;\n        setItemToAdd(first);\n\n        setFilteredItems(filtered);\n    }, [stockList, items]);\n\n    const onAddItem = () => {\n        const item = items.find(item => item.id === itemToAdd);\n        if (!item) return;\n\n        let newItem = {\n            id: item.id,\n            name: item.name,\n            measurement: item.measurement,\n            stock: 1\n        }\n\n        dispatch({type: 'ADD_STOCK', payload: newItem});\n    }\n\n    const onClearStock = () => {\n        dispatch({type: 'CLEAR_STOCK'});\n    }\n\n    const onChangeStock = (id) => (value) => {\n        let stockObj = stockList.find(item => item.id === id);\n        dispatch({type: 'EDIT_STOCK', payload: {...stockObj, stock: value}});\n    }\n\n    const onRemoveStock = (id) => () => {\n        dispatch({type: 'DELETE_STOCK', payload: {id:id}});\n    }\n\n    return (\n        <StyledComp>\n            <h3>Current Stock</h3>\n            <Container>\n                <div>\n                    <Dropdown labelText='Item' value={itemToAdd} options={filteredItems.map(item => ({value: item.id, display: item.name}))} onChange={setItemToAdd}/>\n                    <BasicButton label='Add' onClick={onAddItem}/>\n                    <BasicButton label='Clear Stock' onClick={onClearStock}/>\n                </div>\n                <br/>\n                <div>After adding an item, input the current quantity of individual items (or weight)</div>\n                <br/>\n                <StyledTable>\n                    <tbody>\n                    {\n                        stockList.map(item => {\n                            return (\n                                <tr key={'stockItem-'+item.id}>\n                                    <td className='input'><Input type='number' width='60' value={item.stock} onChange={onChangeStock(item.id)}/></td>\n                                    <td style={{minWidth: '61px'}}>{item.measurement}</td>\n                                    <td style={{minWidth: '200px'}}>{item.name}</td>\n                                    <td className='input'><BasicButton label='Remove' width='80px' onClick={onRemoveStock(item.id)}/></td>\n                                </tr>\n                            )\n                        })\n                    }\n                    </tbody>\n                </StyledTable>\n            </Container>\n        </StyledComp>\n    );\n}\n\nexport default StockList;","import styled from 'styled-components';\nimport { useContext, useState, useEffect } from 'react';\n\nimport context from '../state/context';\n\nimport Container from '../components/Container';\nimport Input from '../components/Input';\nimport StyledTable from '../components/Styled/StyledTable';\nimport BasicButton from '../components/BasicButton';\nimport StockList from '../containers/StockList';\n\nconst StyledComp = styled.tr`\n    width: 500px;\n    border: 1px solid #CCC !important;\n\n    & > td#checkbox > div {\n        margin: 0px;\n        height: 25px;\n    }\n`\n\nconst ListItem = ({qty, name, checked=false, onClickCheckbox}) => {\n    return (\n        <StyledComp>\n            <td id='checkbox'><Input type='checkbox' value={checked} onChange={onClickCheckbox}/></td>\n            <td id='qty'>{qty}</td>\n            <td id='name' style={{width: '300px'}}>{name}</td>\n        </StyledComp>\n    );\n}\n\nconst ShoppingList = () => {\n    const { planner, meals, items, shoppingList, stockList, dispatch } = useContext(context);\n    const [ itemList, setItemList ] = useState([]);\n\n    useEffect(() => {\n        const listArr = getList(planner.dailyMeals);\n        checkIfChecked(listArr, shoppingList);\n        setItemList(listArr);\n    }, [planner, stockList]);\n\n    const getMeal = (id) => {\n        const meal = meals.find(meal => meal.id === id);\n        return meal;\n    }\n\n    const addToList = (itemsNeeded, mealId) => {\n        let meal = getMeal(mealId);\n        if (meal) {\n            let itemList = meal.itemList;\n            itemList.forEach(item => {\n                if (itemsNeeded[item.id] === undefined) itemsNeeded[item.id] = 0;\n                itemsNeeded[item.id] += item.qty;\n            });\n        }\n    }\n\n    const checkIfChecked = (listArr, shoppingList) => {\n        listArr.forEach(item => {\n            if (shoppingList[item.id] === true) item.checked = true;\n        });\n    }\n\n    const getQtyNeeded = (itemId, qty) => {\n        let item = items.find(item => item.id === itemId);\n        if (!item) return 0;\n\n        let stockItem = stockList.find(item => item.id === itemId);\n        if (stockItem) qty -= stockItem.stock;\n\n        let qtyNeeded = qty / item.size;\n        return {qty: Math.ceil(qtyNeeded), name: item.name, checked: false, id: itemId};\n    }\n\n    const getList = (allMeals) => {\n        const itemsNeeded = {};\n        const itemList = [];\n\n        allMeals.forEach(personMeals => {\n            personMeals.forEach(dailyMeals => {\n                addToList(itemsNeeded, dailyMeals.breakfastId);\n                addToList(itemsNeeded, dailyMeals.lunchId);\n                addToList(itemsNeeded, dailyMeals.dinnerId);\n            });\n        });\n\n        Object.keys(itemsNeeded).forEach(itemId => {\n            let qty = itemsNeeded[itemId];\n            let qtyDetails = getQtyNeeded(itemId, qty);\n            itemList.push(qtyDetails);\n        });\n\n        return itemList;\n    }\n\n    const onCheckItem = (id) => () => {\n        let listArr = itemList.map(item => {\n            if (item.id === id) {\n                item.checked = !item.checked;\n                if (item.checked) dispatch({type: 'SET_SHOPPING_LIST_ITEM_TRUE', payload: id});\n                else if (!item.checked) dispatch({type: 'SET_SHOPPING_LIST_ITEM_FALSE', payload: id});\n            }\n            return item;\n        });\n        setItemList(listArr);\n    }\n\n    const uncheckAllItems = () => {\n        dispatch({type: 'CLEAR_SHOPPING_LIST'});\n        let listArr = itemList.map(item => {\n            item.checked = false;\n            return item;\n        });\n        setItemList(listArr);\n    }\n\n    return (\n        <div>\n            <h3>Shopping List</h3>\n            <Container>\n                <BasicButton label='Clear All' onClick={uncheckAllItems}/>\n                <StyledTable>\n                    <thead>\n                        <tr>\n                            <th style={{minWidth: '50px'}}></th>\n                            <th style={{minWidth: '60px'}}>Qty</th>\n                            <th>Item</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {\n                        itemList.map(item => <ListItem key={'listItem-'+item.id} name={item.name} qty={item.qty} checked={item.checked} onClickCheckbox={onCheckItem(item.id)}/>)\n                    }\n                    </tbody>\n                </StyledTable>\n            </Container>\n            <StockList/>\n        </div>\n    );\n}\n\nexport default ShoppingList;","import styled from 'styled-components';\n\nconst StyledComp = styled.div`\n    display: inline-block;\n    margin: 5px;\n    background-color: #FFF;\n    border: 1px solid #AAA;\n    border-radius: 5px;\n    width: ${props => props.width};\n    box-shadow: 1px 1px 3px #BBB;\n\n    & header {\n        font-weight: bold;\n        padding: 10px;\n        border-bottom: 1px solid #AAA;\n    }\n\n    & footer {\n        border-top: 1px solid #AAA;\n    }\n`\n\nconst Card = ({children, width='max-content'}) => {\n    return (\n        <StyledComp width={width}>\n            { children }\n        </StyledComp>\n    );\n}\n\nexport default Card;","import { memo } from 'react';\nimport styled from 'styled-components';\n\nconst StyledComp = styled.table`\n    border-collapse: collapse;\n    width: auto;\n\n    th, td {\n        padding: 7px 10px;\n        ${props => props.size === 'small' ? 'padding: 4px 7px;' : ''};\n        ${props => props.size === 'large' ? 'padding: 10px 15px;' : ''};\n        border-right: 1px solid #CCC;\n    }\n\n    th:first-child {\n        border-top-left-radius: 5px;\n    }\n\n    th:last-child {\n        border-top-right-radius: 5px;\n    }\n\n    th {\n        border-bottom: 1px solid black;\n        background-color: #DDD;\n        min-width: 100px;\n    }\n\n    th:last-child,\n    td:last-child {\n        border-right: none;\n    }\n\n    tr:last-child {\n        border-bottom: none;\n    }\n\n    tr:nth-child(2n) td {\n        background-color: #EEE;\n    }\n`;\n\nconst StyledContainer = styled.div`\n    display: inline-flex;\n    flex-direction: column;\n    align-items: flex-start;\n    margin: 5px;\n\n    & > h4 {\n        align-self: center;\n        margin: 5px;\n    }\n`;\n\nconst TableBasic = ({tableHeading='', header=[], data=[], size='medium'}) => {\n    return (\n        <StyledContainer>\n            { tableHeading.length > 0 ? <h4>{tableHeading}</h4> : null }\n            <StyledComp size={size}>\n                <thead>\n                    <tr>\n                        { header.map((a,i) => <th key={`thead-${i}-${a}`}>{a}</th>) }\n                    </tr>\n                </thead>\n                <tbody>\n                    { data.map((r,i) => <tr key={`tbody-${i}`}>{ r.map((d,i2) => <td key={`tdata-${i2}-${d}`}>{d}</td>) }</tr>) }\n                </tbody>\n            </StyledComp>\n        </StyledContainer>\n    );\n}\n\nconst compareProps = (prev, next) => {\n    if (prev.tableHeading !== next.tableHeading) return false;\n    if (prev.size !== next.size) return false;\n    if (prev.header && prev.header.toString() !== next.header.toString()) return false;\n    if (prev.data && prev.data.toString() !== next.data.toString()) return false;\n    return true;\n}\n\nexport default memo(TableBasic, compareProps);","import React, { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\n\nconst StyledComp = styled.div`\n    background-color: ${props => props.color};\n    color: ${props => props.textColor ? props.textColor : 'black'};\n    width: ${props => props.width ? props.width : '150px'};\n    border-radius: 5px;\n    margin: ${props => props.margin ? props.margin : '5px'};\n    display: inline-block;\n    position: relative;\n\n    & .label {\n        transition: 0.3s;\n        padding: 5px;\n    }\n\n    & .label:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n\n    & .confirmation.visible {\n        opacity: 1;\n        pointer-events: all;\n        transition: 0.3s opacity;\n    }\n\n    & > .confirmation {\n        position: absolute;\n        width: 120px;\n        padding: 5px;\n        border: 1px solid black;\n        border-radius: 5px;\n        transition: 0.3s opacity;\n        opacity: 0;\n        pointer-events: none;\n        color: black;\n        background-color: white;\n    }\n\n    & > .confirmation.top {\n        bottom: calc(100% + 5px);\n        left: 50%;\n        transform: translateX(-50%);\n    }\n\n    & > .confirmation.bottom {\n        top: calc(100% + 5px);\n        left: 50%;\n        transform: translateX(-50%);\n    }\n\n    & > .confirmation.left {\n        right: calc(100% + 5px);\n        top: 50%;\n        transform: translateY(-50%);\n    }\n\n    & > .confirmation.right {\n        left: calc(100% + 5px);\n        top: 50%;\n        transform: translateY(-50%);\n    }\n\n    & .confirmation::after {\n        content: '';\n        display: block;\n        width: 8px;\n        height: 8px;\n        background-color: white;\n        position: absolute;\n        border-left: 1px solid black;\n        border-bottom: 1px solid black;\n    }\n\n    & .confirmation.top::after {\n        bottom: -5px;\n        left: 50%;\n        transform:  translateX(-50%) rotate(-45deg);\n    }\n\n    & .confirmation.bottom::after {\n        top: -5px;\n        left: 50%;\n        transform:  translateX(-50%) rotate(135deg);\n    }\n\n    & .confirmation.left::after {\n        right: -5px;\n        top: 50%;\n        transform:  translateY(-50%) rotate(-135deg);\n    }\n\n    & .confirmation.right::after {\n        left: -5px;\n        top: 50%;\n        transform:  translateY(-50%) rotate(45deg);\n    }\n\n    & > .confirmation span {\n        margin-bottom: 5px;\n    }\n\n    & > .confirmation > div {\n        display: inline-block;\n        padding: 4px;\n        width: 50px;\n        background-color: ${props => props.color};\n        color: ${props => props.textColor ? props.textColor : 'black'};\n        border-radius: 5px;\n        margin-top: 5px;\n    }\n\n    & .confirm {\n        background-color: lightgreen !important;\n    }\n\n    & > .confirmation > div:first-of-type {\n        margin-right: 5px;\n    }\n\n    & .confirm:hover, & .cancel:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n`;\n\nconst ConfirmButtonPopup = ({label='', onClick=()=>{}, color='#CCC', textColor, width, margin, direction='top'}) => {\n    const [confirmOpen, setConfirmOpen] = useState(false);\n    const [userDirection, setDirection] = useState(direction);\n\n    const ref = useRef(null);\n\n    useEffect(() => {\n        const onClickOutside = (e) => {\n            if (ref.current && !ref.current.contains(e.target)) {\n                if (confirmOpen) setConfirmOpen(false);\n            }\n        }\n\n        document.addEventListener('click', onClickOutside);\n        return () => {\n            document.removeEventListener('click', onClickOutside);\n        }\n\n    }, [ref, confirmOpen]);\n\n    const showConfirm = () => {\n        checkDirection();\n        setConfirmOpen(true);\n    }\n\n    const checkDirection = () => {\n        let rect = ref.current.getBoundingClientRect();\n        let left = rect.x > 130;\n        let right = window.innerWidth - (rect.x + rect.width) > 130;\n        let top = rect.y > 70;\n        let bottom = window.innerHeight - (rect.y + rect.height) > 70;\n        let directions = {top, bottom, left, right};\n\n        if (direction !== userDirection && directions[direction]) setDirection(direction);\n        if (!left && direction === 'left') setDirection(getValidDirection(directions));\n        if (!right && direction === 'right') setDirection(getValidDirection(directions));\n        if (!top && direction === 'top') setDirection(getValidDirection(directions));\n        if (!bottom && direction === 'bottom') setDirection(getValidDirection(directions));\n    }\n\n    const getValidDirection = (directions) => {\n        for (let key in directions) {\n            if (directions[key]) return key;\n        }\n        //if no direction is valid, just return what user wanted/default\n        return direction; \n    }\n\n    const hideConfirm = () => {\n        setConfirmOpen(false);\n    }\n\n    const onConfirm = () => {\n        setConfirmOpen(false);\n        onClick();\n    }\n\n    return (\n        <StyledComp \n            color={color} \n            textColor={textColor}\n            width={width} \n            margin={margin}>\n            <div ref={ref} className='label' onClick={showConfirm}>\n                <div>{label}</div>\n            </div>\n            <div className={`confirmation${confirmOpen ? ' visible' : ''} ${userDirection}`}>\n                <span>Are you sure?</span>\n                <div className='confirm' onClick={onConfirm}>Yes</div>\n                <div className='cancel' onClick={hideConfirm}>No</div>\n            </div>\n        </StyledComp>\n    );\n}\n\nexport default ConfirmButtonPopup;","import styled from 'styled-components';\n\nconst StyledComp = styled.div`\n    display: grid;\n    grid-template-columns: ${props => props.columnTemplate};\n    margin: 5px;\n    grid-gap: 5px;\n`\n\nconst Grid = ({children, columnTemplate='1fr 1fr'}) => {\n    return (\n        <StyledComp columnTemplate={columnTemplate}>\n            { children }\n        </StyledComp>\n    );\n}\n\nexport default Grid;","import { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\n\nconst StyledComp = styled.div`\n    opacity: ${props => props.open ? 1 : 0.0};\n    transition: 0.4s;\n\n    & > div#background {\n        position: fixed;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        background-color: black;\n        opacity: ${props => props.open ? 0.3 : 0.0};\n        ${props => !props.open ? 'pointer-events: none' : ''};\n        z-index: 10;\n        transition: 0.4s;\n    }\n\n    & > #content {\n        position: fixed;\n        background-color: #FFF;\n        border: 1px solid #AAA;\n        border-radius: 5px;\n        width: ${props => props.width};\n        max-width: calc(100% - 40px);\n        top: 50%;\n        left: 50%;\n        transform: ${props => props.open ? 'translate(-50%, -50%) scale(1)' : 'translate(-50%, -50%) scale(0)'};\n        z-index: 11;\n        transition: 0.4s;\n        box-shadow: 2px 2px 10px #666;\n    }\n\n    & section {\n        max-height: calc(100vh - 300px);\n        overflow: scroll;\n        padding: 10px;\n    }\n\n    & h4, & h3, & h2, & h1 {\n        margin: 0px 0px 0px 0px;\n    }\n\n    & header {\n        padding: 10px;\n        border-bottom: 1px solid #AAA;\n    }\n\n    & footer {\n        border-top: 1px solid #AAA;\n    }\n`;  \n\nconst Modal = ({children, open, darken=true, width='500px', closeFunc=()=>{}, closeOnClickOutside=false}) => {\n    const ref = useRef(null);\n    //this allows multiple modals on a page without affecting document.body styles from each other.\n    const [isOpen, setIsOpen] = useState(open);\n\n    useEffect(() => {\n        const onClickOutside = (e) => {\n            if (ref.current && !ref.current.contains(e.target)) {\n                if (open && closeOnClickOutside) closeFunc();\n            }\n        }\n\n        document.addEventListener('click', onClickOutside);\n        return () => {\n            document.removeEventListener('click', onClickOutside);\n        }\n\n    }, [ref, open]);\n\n    //only update when state changes\n    if (open && !isOpen) {\n        if (window.scrollY > 0) document.body.style.top = `-${window.scrollY}px`;\n        document.body.style.position = 'fixed';\n        document.body.style.width = '100%';\n        setIsOpen(true);\n    } else if (!open && isOpen) {\n        const scrollY = parseInt(document.body.style.top || '0') * -1;\n        document.body.style.top = '';\n        document.body.style.position = '';\n        document.body.style.width = '';\n        if (scrollY > 0) window.scrollTo(0, scrollY);\n        setIsOpen(false);\n    }\n\n    return (\n        <StyledComp open={open} width={width}>\n            { darken ? <div id='background'></div> : null }\n            <div id='content' ref={ref}>{children}</div>\n        </StyledComp>\n    );\n}\n\nexport default Modal;","import { useState } from 'react';\n\nimport BasicButton from '../components/BasicButton';\nimport Dropdown from '../components/Dropdown';\nimport Grid from '../components/Grid';\nimport Input from '../components/Input';\n\nconst AddEditItem = ({item={}, editing=false, onFinish, onCancel}) => {\n    const [name, setName] = useState(item.name || '');\n    const [size, setSize] = useState(item.size || 0);\n    const [measurement, setMeasurement] = useState(item.measurement || 'g');\n    const [calories, setCalories] = useState(item.calories || 0);\n\n    if (editing && item.name === undefined) return null;\n\n    const onChangeSize = (value) => setSize(value);\n    const onChangeMeasurement = (value) => setMeasurement(value);\n    const onChangeCalories = (value) => setCalories(value);\n    const onChangeName = (value) => setName(value);\n\n    const onSave = () => {\n        if (name === '') return;\n        if (size === 0) return;\n        let newItem = {...item, name, size, measurement, calories};\n        onFinish(newItem);\n    }\n\n    return (\n        <>\n            <header style={{fontWeight: 'bold'}}>\n                { editing ? <span>{name}</span> : 'New Item' }\n            </header>\n            <section>\n                <Input type='text' autoFocus placeholder='Item Name' labelText='Name' labelWidth='150' value={name} onChange={onChangeName}/><br/>\n                <Grid columnTemplate='1fr 1fr'>\n                    <Input type='number' labelText='Size' labelWidth='150' value={size} onChange={onChangeSize}/>\n                    <Dropdown labelText='Measurement' value={measurement} labelWidth='150' width='100' options={['g', 'ml', ' items']} onChange={onChangeMeasurement}/>\n                    <Input type='number' labelText='Calories' labelWidth='150' value={calories} onChange={onChangeCalories}/>\n                </Grid>\n            </section>\n            <footer>\n                <BasicButton label='Save' onClick={onSave}/>\n                <BasicButton label='Cancel' onClick={onCancel}/>\n            </footer>\n        </>\n    );\n}\n\nexport default AddEditItem;","import styled from 'styled-components';\nimport { useContext, useState } from 'react';\n\nimport context from '../state/context';\nimport { sortArray } from '../functions';\n\nimport Card from '../components/Card';\nimport BasicButton from '../components/BasicButton';\nimport TableBasic from '../components/TableBasic';\nimport ConfirmButtonPopup from '../components/ConfirmButtonPopup';\nimport Grid from '../components/Grid';\nimport Dropdown from '../components/Dropdown';\nimport Modal from '../components/Modal';\nimport Container from '../components/Container';\n\nimport AddEditItem from '../containers/AddEditItem';\n\nconst StyledComp = styled.div`\n\n`\n\nconst Items = () => {\n    const { items, meals, dispatch } = useContext(context);\n    const [sort, setSort] = useState('Name');\n    const [editOpen, setEditOpen] = useState(false);\n    const [addOpen, setAddOpen] = useState(false);\n    const [itemToEdit, setItemToEdit] = useState(undefined);\n\n    const onChangeSort = (value) => {\n        setSort(value);\n    }\n\n    const openEditModal = (item) => () => {\n        setItemToEdit(item);\n        setEditOpen(true);\n    }\n\n    const openAddModal = () => {\n        setAddOpen(true);\n    }\n\n    const closeModal = () => {\n        setEditOpen(false);\n        setAddOpen(false);\n    }\n\n    const onAddItem = (item) => {\n        dispatch({type: 'ADD_ITEM', payload: item});\n        setAddOpen(false);\n    }\n\n    const onChangeItem = (item) => {\n        setEditOpen(false);\n        setItemToEdit(undefined);\n        dispatch({type: 'EDIT_ITEM', payload: item});\n    }\n\n    const onDeleteItem = (item) => () => {\n        dispatch({type: 'DELETE_ITEM', payload: item});\n    }\n\n    const checkIfCanDelete = (item) => {\n        let canDelete = true;\n\n        for (let i = 0; i < meals.length; i++) {\n            const meal = meals[i];\n            const itemList = meal.itemList;\n\n            if (itemList.find(itemObj => itemObj.id === item.id) !== undefined) {\n                canDelete = false;\n                break;\n            }\n        }\n\n        return canDelete;\n    }\n\n    let sortedItems = sortArray(sort, items);\n    \n    return (\n        <StyledComp>\n            <h3>Items</h3>\n            <Container>\n                <Grid columnTemplate='1fr 1fr 1fr'>\n                    <div></div>\n                    <div><BasicButton label='Add New Item' color='lightblue' onClick={openAddModal}/></div>\n                    <div><Dropdown labelText='Sort By' value={sort} options={['Name', 'Calories', 'Size']} onChange={onChangeSort}/></div>\n                </Grid>\n                { \n                    sortedItems.map(item => {\n                        return (\n                            <Card key={item.id}>\n                                <header>{item.name}</header>\n                                <section>\n                                    <TableBasic data={[['Size', item.size+item.measurement], ['Calories', item.calories]]}/>\n                                </section>\n                                <footer>\n                                    <BasicButton label=\"Edit\" onClick={openEditModal(item)} width='80px' color='lightblue'/>\n                                    {\n                                        checkIfCanDelete(item) ? <ConfirmButtonPopup label=\"Delete\" width='80px' color='red' onClick={onDeleteItem(item)}/>\n                                                               : null\n                                    }\n                                </footer>\n                            </Card>\n                        );\n                    })\n                }\n                <p>Note: You can't delete an item being used in a meal.</p>\n            </Container>\n            <Modal open={editOpen} closeFunc={closeModal}>\n                { editOpen ? <AddEditItem item={itemToEdit} editing={true} onFinish={onChangeItem} onCancel={closeModal}/> : null }\n            </Modal>\n            <Modal open={addOpen} closeFunc={closeModal}>\n                { addOpen ? <AddEditItem onFinish={onAddItem} onCancel={closeModal}/> : null }\n            </Modal>\n        </StyledComp>\n    );\n}\n\nexport default Items;","export const sortArray = (sort, array) => {\n    let sortedItems = [...array].sort((a,b) => {\n        if (sort === 'Name') return a.name < b.name ? -1 : 1;\n        if (sort === 'Size') return a.size - b.size;\n        if (sort === 'Calories') return a.calories - b.calories;\n        if (sort === 'Portions') return a.portions - b.portions;\n        return 0;\n    });\n    return sortedItems;\n}\n\nexport const organiseMeals = (meals) => {\n    let obj = {\n        breakfast: [],\n        lunch: [],\n        dinner: []\n    }\n\n    meals.forEach(meal => {\n        if (meal.type === 'Breakfast') obj.breakfast.push(meal);\n        if (meal.type === 'Lunch') obj.lunch.push(meal);\n        if (meal.type === 'Dinner') obj.dinner.push(meal);\n    });\n\n    return obj;\n}","import styled from 'styled-components';\nimport StyledTable from \"./StyledTable\";\n\nconst StyledMealTable = styled(StyledTable)`\n    margin-top: 20px;\n    border-collapse: separate;\n    border-spacing: 0;\n\n    & tr > td:not(:first-child) {\n        padding: 0px;\n        width: 200px;\n    }\n\n    thead > tr > th:first-child {\n        background-color: transparent;\n        border: 1px solid transparent;\n\n        & > div {\n            height: 30px;\n        }\n    }\n\n    thead > tr > th:nth-child(2) {\n        border-top-left-radius: 5px;\n        border-left: 1px solid #CCC;\n    }\n\n    thead > tr > th:last-child {\n        border-right: 1px solid #CCC;\n    }\n\n    thead > tr > th {\n        border-top: 1px solid #CCC;\n        border-right: 1px solid #CCC;\n    }\n\n    tbody > tr > td:first-child {\n        background-color: #DDD;\n        border-bottom: 1px solid #CCC;\n        border-left: 1px solid #CCC;\n        font-weight: bold;\n    }\n\n    tbody > tr:nth-last-child(2) > td:first-child {\n        border-bottom: none;\n    }\n\n    tbody > tr:first-child > td:first-child {\n        border-top-left-radius: 5px;\n        border-top: 1px solid #CCC;\n    }\n\n    tbody > tr.hidden > td {\n        background-color: transparent;\n        border: none;\n        border-top: 1px solid #CCC;\n        \n        & > div {\n            height: 30px;\n        }\n    }\n`\n\nexport default StyledMealTable;","import styled from 'styled-components';\n\nconst StyledComp = styled.ul`\n    text-align: left;\n    border: 1px solid #DDD;\n    border-radius: 5px;\n    padding: 0px;\n    display: inline-block;\n    width: ${props => props.width};\n    margin: 5px;\n\n    & > li {\n        border-bottom: 1px solid #DDD;\n        padding: 5px;\n        list-style: none;\n    }\n\n    & > li:last-child {\n        border-bottom: none;\n    }\n\n    & > h4 {\n        margin: 0px;\n        border-bottom: 1px solid #DDD;\n        padding: 5px;\n        text-align: center;\n        background-color: #DDD;\n    }\n`;\n\nconst List = ({children, width='150px', heading=''}) => {\n    return (\n        <StyledComp width={width}>\n            { heading.length > 0 ? <h4>{heading}</h4> : null }\n            {children}\n        </StyledComp>\n    );\n}\n\nexport default List;","import { useContext, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\n\nimport context from '../state/context';\n\nimport List from '../components/List';\nimport BasicButton from '../components/BasicButton';\n\nconst StyledComp = styled.div`\n    position: relative;\n    transition: 0.3s;\n    height: 100%;\n\n    & > div#name {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        width: 100%;\n        height: 100%;\n        padding: 7px 10px;\n        transition: 0.3s;\n        border: 1px solid transparent;\n        outline: 1px solid transparent;\n        outline-offset: 0px;\n        ${props => props.open ? 'border: 1px solid blue;' : ''};\n\n        :hover {\n            cursor: pointer;\n        }\n    }\n\n    & div#meal {\n        display: flex;\n        height: 100%;\n        align-items: center;\n    }\n\n    & div#calories {\n        font-size: 0.8em;\n        color: gray;\n        position: relative;\n        top: 5px;\n    }\n\n    & > div#name.switching {\n        transition: 0.3s;\n        outline: 1px solid #AAA;\n        outline-offset: -3px;\n\n        :hover {\n            background-color: #CCC;\n        }\n    }\n\n    & > div#name.switchTarget {\n        border: 1px solid blue;\n        transition: 0.3s;\n    }\n\n    & > div.notSwitching {\n        background-color: #DDD;\n        color: #AAA;\n        cursor: not-allowed !important;\n        transition: 0.3s;\n    }\n\n    & > div#dropdown {\n        position: absolute;\n        background-color: white;\n        border: 1px solid blue;\n        width: 300px;\n        left: 50%;\n        top: calc(100% - 1px);\n        transform: translateX(-50%);\n        z-index: 2;\n\n        h4 {\n            margin: 5px;\n        }\n\n        ul {\n            width: calc(100% - 10px);\n\n            li:hover {\n                cursor: pointer;\n                background-color: #EEE;\n            }\n        }\n    }\n\n`\n\nconst MealDropdown = ({id, type, open, dayId, onChooseMeal, onClick, onClose, moveUp, moveDown, onSwitchStart, onSwitchEnd, switching, switchId, switchType}) => {\n    const { meals, items, planner } = useContext(context);\n    let { showCalories } = planner;\n    // showCalories = false;\n\n    //Add click outside event listener\n    const ref = useRef(null);\n    useEffect(() => {\n        const onClickOutside = (e) => {\n            if (ref.current && !ref.current.contains(e.target)) {\n                if (open) onClose();\n            }\n        }\n\n        document.addEventListener('click', onClickOutside);\n        return () => {\n            document.removeEventListener('click', onClickOutside);\n        }\n    }, [ref, open]);\n\n    const mealsOfType = meals.filter(meal => meal.type === type);\n\n    let totalCalories = 0;\n    const thisMeal = meals.find(obj => obj.id === id);\n    if (thisMeal) {\n        const mealItems = thisMeal.itemList.map(item => {\n            let itemObj = items.find(obj => obj.id === item.id);\n            if (!itemObj) return {};\n            let copy = {...itemObj, qty: item.qty};\n            return copy;\n        });\n    \n        totalCalories = mealItems.reduce((a,c) => {\n            return a += parseInt(c.calories / c.size * c.qty);\n        }, 0);\n    }\n\n\n    const getTypeKey = () => {\n        let typeKey = 'breakfastId';\n        if (type === 'Lunch') typeKey = 'lunchId';\n        if (type === 'Dinner') typeKey = 'dinnerId';\n        return typeKey;\n    }\n\n    const onClickMeal = (objId) => () => {\n        let typeKey = getTypeKey();\n        onChooseMeal(dayId, typeKey, objId);\n        onClose();\n    }\n\n    const onClearMeal = () => {\n        let typeKey = getTypeKey();\n        onChooseMeal(dayId, typeKey, 0);\n        onClose();\n    }\n\n    const onClickSwitch = () => {\n        onSwitchStart(dayId, type);\n    }\n\n    const onUp = () => {\n        moveUp(dayId, getTypeKey(), type);\n    }\n\n    const onDown = () => {\n        moveDown(dayId, getTypeKey(), type);\n    }\n\n    const onClickName = () => {\n        if (switching && type === switchType) {\n            onSwitchEnd(dayId, getTypeKey());\n            onClose();\n        } else if (switching && type !== switchType) {\n            return;\n        } else {\n            onClick();\n        }\n    }\n\n    let switchingClass = type === switchType && switching ? 'switching' : '';\n    if (dayId === switchId && type === switchType && switching) switchingClass = 'switchTarget';\n    if (switching && type !== switchType) switchingClass = 'notSwitching';\n\n    return (\n        <StyledComp open={open}>\n            <div id='name' className={switchingClass} onClick={onClickName}>\n                <div id='meal'>{thisMeal?.name}</div>\n                { showCalories && totalCalories > 0 ? <div id='calories'>{totalCalories}kcal</div> : null }\n            </div>\n            { open ? \n                <div id='dropdown' ref={ref}>\n                    <h4>Choose a Meal</h4>\n                    <div>\n                        <BasicButton label='Up' onClick={onUp} width='50px'/>\n                        <BasicButton label='Down' onClick={onDown} width='60px'/>\n                        <BasicButton label='Switch' onClick={onClickSwitch} width='70px'/>\n                        <BasicButton label='Clear' onClick={onClearMeal} width='70px'/>\n                    </div>\n                    <List>\n                    {\n                        mealsOfType.map((obj,i) => {\n                            return (\n                                <li key={obj.id} onClick={onClickMeal(obj.id)}>{obj.name}</li>\n                            );\n                        })\n                    }\n                    </List>\n                </div> \n            : null }\n        </StyledComp>\n    );\n}\n\nexport default MealDropdown;","import { useState, useContext } from 'react';\nimport styled from 'styled-components';\nimport { FiChevronDown, FiChevronUp } from 'react-icons/fi';\n\nimport context from '../state/context';\n\nimport StyledMealTable from '../components/Styled/StyledMealTable';\nimport MealDropdown from '../containers/MealDropdown';\nimport BasicButton from '../components/BasicButton';\n\nconst StyledComp = styled.div`\n\n`\n\nconst Planner = ({dailyMeals, allMeals}) => {\n    const { planner, meals, dispatch } = useContext(context);\n    const { days } = planner;\n    const [ openId, setOpenId ] = useState(0);\n    const [ switching, setSwitching ] = useState(false);\n    const [ switchId, setSwitchId] = useState(0);\n    const [ switchType, setSwitchType ] = useState('');\n\n    const breakfastMeals = meals.filter(meal => meal.type === 'Breakfast');\n    const lunchMeals = meals.filter(meal => meal.type === 'Lunch');\n    const dinnerMeals = meals.filter(meal => meal.type === 'Dinner');\n\n    breakfastMeals.unshift({id: 0, name: 'Empty'});\n    lunchMeals.unshift({id: 0, name: 'Empty'});\n    dinnerMeals.unshift({id: 0, name: 'Empty'});\n\n    const onOpenMeal = (id) => () => {\n        setOpenId(id);\n    }\n\n    const onCloseMeal = () => {\n        setOpenId(0);\n    }\n\n    const onChooseMeal = (dayId, type, mealId) => {\n        let obj = dailyMeals.find(obj => obj.id === dayId);\n        let newObj = {...obj};\n        newObj[type] = mealId;\n        dispatch({type: 'EDIT_PLANNER_MEAL', payload: newObj});\n    }\n\n    const startSwitching = (dayId, type) => {\n        setSwitching(true);\n        setSwitchId(dayId);\n        setSwitchType(type);\n        onCloseMeal();\n    }\n\n    const endSwitching = (dayId, typeKey) => {\n        if (switchId === dayId) {\n            setSwitching(false);\n            return;\n        }\n\n        let objA = dailyMeals.find(obj => obj.id === switchId);\n        let objB = dailyMeals.find(obj => obj.id === dayId);\n\n        swapObjects(objA, objB, typeKey, switchType);\n        setSwitching(false);\n    }\n\n    const moveUp = (objId, typeKey, type) => {\n        let objA = dailyMeals.find(obj => obj.id === objId);\n        if (objA === undefined) return;\n        let index = dailyMeals.indexOf(objA);\n        let adjustedIndex = index > 0 ? index-1 : dailyMeals.length-1;\n        let objB = dailyMeals[adjustedIndex];\n        swapObjects(objA, objB, typeKey, type);\n    }\n\n    const moveDown = (objId, typeKey, type) => {\n        let objA = dailyMeals.find(obj => obj.id === objId);\n        if (objA === undefined) return;\n        let index = dailyMeals.indexOf(objA);\n        let adjustedIndex = index < dailyMeals.length-1 ? index+1 : 0;\n        let objB = dailyMeals[adjustedIndex];\n        swapObjects(objA, objB, typeKey, type);\n    }\n\n    const getNewMealsArr = (newPersonMeals) => {\n        let index = allMeals.indexOf(dailyMeals);\n        let newArr = [...allMeals];\n        newArr[index] = newPersonMeals;\n        return newArr;\n    }\n\n    const moveStartDayUp = () => {\n        let newArray = [...dailyMeals];\n        let lastItem = newArray.pop();\n        newArray.unshift(lastItem);\n        let newMeals = getNewMealsArr(newArray);\n        dispatch({type: 'SET_DAILY_MEALS', payload: newMeals});\n    }\n\n    const moveStartDayDown = () => {\n        let newArray = [...dailyMeals];\n        let firstItem = newArray.shift();\n        newArray.push(firstItem);\n        let newMeals = getNewMealsArr(newArray);\n        dispatch({type: 'SET_DAILY_MEALS', payload: newMeals});\n    }\n\n    const swapObjects = (objA, objB, typeKey, type) => {\n        let mealA = objA[typeKey];\n        let mealB = objB[typeKey];\n\n        let newObjA = {...objA};\n        newObjA[typeKey] = mealB;\n\n        let newObjB = {...objB};\n        newObjB[typeKey] = mealA;\n\n        dispatch({type: 'EDIT_PLANNER_MEAL', payload: newObjA});\n        dispatch({type: 'EDIT_PLANNER_MEAL', payload: newObjB});\n\n        onOpenMeal(`${newObjB.id}-${type}`)();\n    }\n\n    const getMealDropdown = (typeId, type, objId) => {\n        let combinedId = `${objId}-${type}`;\n        return <MealDropdown\n                    id={typeId}\n                    type={type}\n                    open={openId === combinedId ? true : false}\n                    dayId={objId}\n                    onChooseMeal={onChooseMeal} \n                    onClick={onOpenMeal(combinedId)} \n                    onClose={onCloseMeal}\n                    moveUp={moveUp}\n                    moveDown={moveDown}\n                    onSwitchStart={startSwitching}\n                    onSwitchEnd={endSwitching}\n                    switching={switching}\n                    switchId={switchId}\n                    switchType={switchType}\n                />\n    }\n\n    const mealsToDisplay = [];\n    dailyMeals.forEach((meal, i) => {\n        if (i < days) mealsToDisplay.push(meal);\n    });\n\n    return (\n        <StyledComp>\n            <StyledMealTable>\n                <thead>\n                    <tr>\n                        <th><BasicButton label={<FiChevronUp/>} width='50px' onClick={moveStartDayUp}/></th>\n                        <th>Breakfast</th>\n                        <th>Lunch</th>\n                        <th>Dinner</th>\n                    </tr>\n                </thead>\n                <tbody>\n                {\n                    mealsToDisplay.map(obj => {\n                        return (\n                            <tr key={`meal-${obj.id}`}>\n                                <td>{obj.day}</td>\n                                <td>{getMealDropdown(obj.breakfastId, 'Breakfast', obj.id)}</td>\n                                <td>{getMealDropdown(obj.lunchId, 'Lunch', obj.id)}</td>\n                                <td>{getMealDropdown(obj.dinnerId, 'Dinner', obj.id)}</td>\n                            </tr>\n                        );\n                    })\n                }\n                    <tr className='hidden'>\n                        <td><BasicButton label={<FiChevronDown/>} width='50px' onClick={moveStartDayDown}/></td>\n                        <td></td>\n                        <td></td>\n                        <td></td>\n                    </tr>\n                </tbody>\n            </StyledMealTable>\n        </StyledComp>\n    );\n}\n\nexport default Planner;","import { useEffect, useContext } from 'react';\nimport styled from 'styled-components';\n\nimport context from '../state/context';\n\nimport Input from '../components/Input';\nimport Planner from '../containers/Planner';\n\nconst StyledComp = styled.div`\n\n`\n\nconst daysOfWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n\nconst getNextDay = (day) => {\n    let dayIndex = daysOfWeek.indexOf(day) + 1;\n    let nextDay = daysOfWeek[dayIndex%7];\n    return nextDay;\n}\n\nconst getNextID = (dailyMeals) => {\n    let highestID = 1;\n    dailyMeals.forEach(peopleMeals => {\n        peopleMeals.forEach(meal => {\n            if (meal.id > highestID) highestID = meal.id;\n        });\n    });\n    return highestID+1;\n}\n\nconst addMeals = (personMeals, days, dailyMeals) => {\n    if (days < 7) days = 7;\n    if (days > 21) days = 21;\n\n    let latestDay = personMeals[personMeals.length-1].day;\n    latestDay = getNextDay(latestDay);\n    let latestID = getNextID(dailyMeals);\n    let currentDays = personMeals.length;\n    let newMeals = [...personMeals];\n\n    for (let i = 0; i < days-currentDays; i++) {\n        newMeals.push({id: latestID, day: latestDay, breakfastId: 0, lunchId: 0, dinnerId: 0});\n        latestDay = getNextDay(latestDay);\n        latestID++;\n    }\n\n    return newMeals;\n}\n\nconst trimMeals = (personMeals, days) => {\n    let newArray = [...personMeals];\n    if (newArray.length > days) {\n        if (days < 7) days = 7;\n        newArray = personMeals.slice(0,days);\n    }\n    return newArray;\n}\n\nconst getBlankMealPlanner = (firstDay, days, dailyMeals) => {\n    let newMealPlanner = [];\n    let nextID = getNextID(dailyMeals);\n    let nextDay = firstDay;\n    for (let i = 0; i < days; i++) {\n        newMealPlanner.push({\n            id: nextID++,\n            day: nextDay,\n            breakfastId: 0,\n            lunchId: 0,\n            dinnerId: 0\n        });\n        nextDay = getNextDay(nextDay);\n    }\n    return newMealPlanner;\n}\n\nconst Home = () => {\n    const { planner, dispatch } = useContext(context);\n    const { days, people, showCalories, dailyMeals } = planner;\n\n    const onChangeDays = (value) => {\n        if (value > 3) value = 3;\n        if (value < 1) value = 1;\n        dispatch({type: 'SET_DAYS', payload: value*7});\n    }\n\n    const onChangeShowCalories = (value) => {\n        dispatch({type: 'SET_SHOW_CALORIES', payload: value});\n    }\n\n    const onChangePeople = (value) => {\n        if (value < 1) value = 1;\n        let currentPeople = dailyMeals.length;\n        let firstPlanner = dailyMeals[0];\n        let firstDay = firstPlanner[0].day;\n        let newArray = [...dailyMeals];\n\n        if (currentPeople < value) {\n            for (let i = currentPeople; i < value; i++) {\n                let newMealPlanner = getBlankMealPlanner(firstDay, days, dailyMeals);\n                newArray.push(newMealPlanner);\n            }\n        } else if (currentPeople > value) {\n            for (let i = value; i < currentPeople; i++) {\n                newArray.pop();\n            }\n        }\n\n        dispatch({type: 'SET_NUMBER_PEOPLE', payload: value});\n        dispatch({type: 'SET_DAILY_MEALS', payload: newArray});\n    }\n\n    //check to make sure displaying the correct number of days\n    useEffect(() => {\n        let newMeals = [];\n\n        for (let i = 0; i < people; i++) {\n            let newPeopleMeals = [];\n            let peopleMeals = dailyMeals[i];\n            if (peopleMeals.length < days) newPeopleMeals = addMeals(peopleMeals, days, [...dailyMeals, ...newMeals]);\n            else if (peopleMeals.length > days) newPeopleMeals = trimMeals(peopleMeals, days);\n            else newPeopleMeals = peopleMeals;\n            newMeals.push(newPeopleMeals);\n        }\n\n        dispatch({type: 'SET_DAILY_MEALS', payload: newMeals});\n    }, [days]);\n\n    return (\n        <StyledComp>\n            <h3>Planner</h3>\n            <Input type='number' labelText='Number of Weeks' value={days/7} onChange={onChangeDays} min={1} max={3}/>\n            <Input type='number' labelText='Number of People' value={people} onChange={onChangePeople} min={1} max={3}/>\n            <Input type='checkbox' labelText='Show Calories' value={showCalories} onChange={onChangeShowCalories}/>\n            <br/>\n            {\n                dailyMeals.map((personMeals, i) => {\n                    return (<div key={'planner-'+i}><Planner dailyMeals={personMeals} allMeals={dailyMeals}/></div>)\n                })\n            }\n        </StyledComp>\n    );\n}\n\nexport default Home;","import Card from '../components/Card';\nimport TableBasic from '../components/TableBasic';\nimport ConfirmButtonPopup from '../components/ConfirmButtonPopup';\nimport BasicButton from '../components/BasicButton';\n\nconst MealCard = ({meal, getCalories, openEditModal, onDeleteItem}) => {\n    return (\n        <Card key={meal.id}>\n            <header>{meal.name}</header>\n            <section>\n                <TableBasic data={[['Type', meal.type], ['Calories', getCalories(meal)]]}/>\n            </section>\n            <footer>\n                <BasicButton label=\"Edit\" onClick={openEditModal(meal)} width='80px' color='lightblue'/>\n                <ConfirmButtonPopup label=\"Delete\" width='80px' color='red' onClick={onDeleteItem(meal)}/>\n            </footer>\n        </Card>\n    );\n}\n\nexport default MealCard;","import { useContext } from 'react';\n\nimport context from '../state/context';\n\nimport MealCard from './MealCard';\n\nconst MealGroup = ({mealsInGroup, heading, openEditModal}) => {\n    const { meals, items, dispatch } = useContext(context);\n\n    const onDeleteItem = (meal) => () => {\n        dispatch({type: 'DELETE_MEAL', payload: meal});\n    }\n\n    const getCalories = (meal) => {\n        let totalCalories = 0;\n\n        const thisMeal = meals.find(obj => obj.id === meal.id);\n        if (thisMeal) {\n            const mealItems = thisMeal.itemList.map(item => {\n                let itemObj = items.find(obj => obj.id === item.id);\n                if (!itemObj) return {calories: 0};\n                let copy = {...itemObj, qty: item.qty};\n                return copy;\n            });\n        \n            totalCalories = mealItems.reduce((a,c) => {\n                if (c.calories === 0) return a;\n                return a += parseInt(c.calories / c.size * c.qty);\n            }, 0);\n        }\n\n        return totalCalories;\n    }\n\n    return (\n        <div>\n            <h4>{heading}</h4>\n        { \n            mealsInGroup.map(meal => <MealCard key={'meal-'+meal.id} meal={meal} getCalories={getCalories} openEditModal={openEditModal} onDeleteItem={onDeleteItem}/>)\n        }\n        </div>\n    );\n}\n\nexport default MealGroup;","import { useState, useContext } from 'react';\n\nimport context from '../state/context';\n\nimport BasicButton from '../components/BasicButton';\nimport Dropdown from '../components/Dropdown';\nimport Input from '../components/Input';\n\nconst AddEditMeal = ({meal={}, editing=false, onFinish, onCancel}) => {\n    const { items } = useContext(context);\n    const [name, setName] = useState(meal.name || '');\n    const [itemList, setItemList] = useState(meal.itemList || []);\n    const [type, setType] = useState(meal.type || 'Dinner');\n\n    let filteredItems = items.filter(item => {\n        if (itemList.find(obj => obj.id === item.id) !== undefined) return false;\n        return true;\n    });\n\n    let firstItem = filteredItems.length > 0 ? filteredItems[0].id : 0;\n\n    if (editing && meal.name === undefined) return null;\n\n    const onChangeName = (value) => setName(value);\n    const onChangeType = (value) => setType(value);\n\n    const getMeasurementText = (itemId) => {\n        let itemObj = items.find(obj => obj.id === itemId);\n        if (!itemObj) return 'Qty';\n        let { measurement } = itemObj;\n        if (measurement === ' items') measurement = 'Qty';\n        else if (measurement === 'g') measurement = 'Grams';\n        return measurement;\n    }\n\n    const onChangeItem = (index) => (item) => {\n        let newItemList = itemList.map((obj, i) => {\n            if (i === index) return {...obj, id: item};\n            return obj;\n        });\n        setItemList(newItemList);\n    }\n\n    const onChangeQty = (index) => (qty) => {\n        let newItemList = itemList.map((obj, i) => {\n            if (i === index) return {...obj, qty: qty};\n            return obj;\n        });\n        setItemList(newItemList);\n    }\n\n    const onSave = () => {\n        if (name === '') return;\n        if (itemList.length === 0) return;\n        let newItem = {...meal, name, type, itemList};\n        onFinish(newItem);\n    }\n\n    const onAddItem = () => {\n        let newObj = {id: firstItem, qty: 1};\n        let newItemList = [...itemList, newObj];\n        setItemList(newItemList);\n    }\n\n    const onDeleteItem = (index) => () => {\n        let newItemList = itemList.filter((obj, i) => i !== index);\n        setItemList(newItemList);\n    }\n\n    return (\n        <>\n            <header style={{fontWeight: 'bold'}}>\n                { editing ? <span>{name}</span> : 'New Item' }\n            </header>\n            <section>\n                <Input type='text' autoFocus placeholder='Item Name' labelText='Name' labelWidth='150' width='200' value={name} onChange={onChangeName}/><br/>\n                <Dropdown labelText='Type' width='120' value={type} options={['Breakfast', 'Lunch', 'Dinner']}  onChange={onChangeType}/><br/>\n                {\n                    itemList.map((item, i) => {\n                        let measurement = getMeasurementText(item.id);\n                        return (\n                            <div key={`itemList-${i}`}>\n                                <Dropdown labelText='Item' width='150' value={item.id} options={items.map( item => ({value: item.id, display: `${item.name} (${item.size}${item.measurement})`}) )} onChange={onChangeItem(i)}/>\n                                <Input type='number' labelText={measurement} labelWidth='100' width='70' value={item.qty} onChange={onChangeQty(i)}/>\n                                <BasicButton label='Del' width='50px' onClick={onDeleteItem(i)}/>\n                                <br/>\n                            </div>\n                        );\n                    })\n                }\n                <BasicButton label='Add New Item' color='lightblue' width='150px' onClick={onAddItem}/>\n            </section>\n            <footer>\n                <BasicButton label='Save' onClick={onSave}/>\n                <BasicButton label='Cancel' onClick={onCancel}/>\n            </footer>\n        </>\n    );\n}\n\nexport default AddEditMeal;","import { useContext, useState } from 'react';\n\nimport context from '../state/context';\nimport { organiseMeals } from '../functions';\n\nimport BasicButton from '../components/BasicButton';\nimport Modal from '../components/Modal';\nimport Container from '../components/Container';\nimport MealGroup from '../containers/MealGroup';\n\nimport AddEditMeal from '../containers/AddEditMeal';\n\nconst Meals = () => {\n    const { meals, dispatch } = useContext(context);\n    const [editOpen, setEditOpen] = useState(false);\n    const [addOpen, setAddOpen] = useState(false);\n    const [mealToEdit, setMealToEdit] = useState(undefined);\n\n    const openEditModal = (meal) => () => {\n        setMealToEdit(meal);\n        setEditOpen(true);\n    }\n\n    const openAddModal = () => {\n        setAddOpen(true);\n    }\n\n    const closeModal = () => {\n        setEditOpen(false);\n        setAddOpen(false);\n    }\n\n    const onAddMeal = (meal) => {\n        dispatch({type: 'ADD_MEAL', payload: meal});\n        setAddOpen(false);\n    }\n\n    const onChangeMeal = (meal) => {\n        setEditOpen(false);\n        setMealToEdit(undefined);\n        dispatch({type: 'EDIT_MEAL', payload: meal});\n    }\n\n    let organisedMeals = organiseMeals(meals);\n\n    return (\n        <div>\n            <h3>Meals</h3>\n            <Container>\n                <BasicButton label='Add New Meal' color='lightblue' onClick={openAddModal}/>\n                <MealGroup heading='Breakfast' mealsInGroup={organisedMeals.breakfast} openEditModal={openEditModal}/>\n                <MealGroup heading='Lunch' mealsInGroup={organisedMeals.lunch} openEditModal={openEditModal}/>\n                <MealGroup heading='Dinner' mealsInGroup={organisedMeals.dinner} openEditModal={openEditModal}/>\n            </Container>\n            <Modal open={editOpen} closeFunc={closeModal}>\n                { editOpen ? <AddEditMeal meal={mealToEdit} onFinish={onChangeMeal} onCancel={closeModal}/> : null }\n            </Modal>\n            <Modal open={addOpen} closeFunc={closeModal}>\n                { addOpen ? <AddEditMeal onFinish={onAddMeal} onCancel={closeModal}/> : null }\n            </Modal>\n        </div>\n    );\n}\n\nexport default Meals;","import styled from 'styled-components';\nimport { format } from 'date-fns';\n\nconst StyledComp = styled.button`\n    background-color: #DDD;\n    color: black;\n    width: 150px;\n    height: 28px;\n    border: none;\n    border-radius: 5px;\n    padding: 5px;\n    margin: 5px;\n    display: inline-block;\n    font-size: 1em;\n    vertical-align: bottom;\n\n    &:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n`;\n\nconst Download = ({data, filename=`Food Planner Backup - ${format(new Date(),'yyyy-MM-dd')}.json`}) => {\n    const downloadJson = () => {\n        const dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(data, null, 2));\n\n        const link = document.createElement(\"a\");\n        link.setAttribute(\"href\", dataStr);\n        link.setAttribute(\"download\", filename);\n        link.click();\n    }\n\n    return (\n        <StyledComp onClick={downloadJson}>Download</StyledComp>\n    );\n}\n\nexport default Download;","import { useState, useRef } from 'react';\nimport styled from 'styled-components';\n\nconst StyledComp = styled.div`\n    display: inline-flex;\n    margin: 5px;\n\n    & > input {\n        display: none;\n    }\n\n    & > #filename {\n        width: 150px;\n        height: 28px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        display: inline-block;\n        padding: 5px;\n        border: 1px solid #DDD;\n        border-radius: 5px 0px 0px 5px;\n    }\n\n    & > #uploadButton {\n        display: inline-block;\n        height: 28px;\n        padding: 5px 10px;\n        background-color: #DDD;\n        border-radius: 0px 5px 5px 0px;\n    }\n\n    & > #uploadButton:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n\n    & > #filename:hover {\n        cursor: pointer;\n    }\n`;\n\nconst Upload = ({onUpload=()=>{}}) => {\n    const [importData, setImportData] = useState(null);\n    const [fileName, setFileName] = useState('Choose a File');\n    const fileInput = useRef(null);\n\n    const onFileChange = (e) => {\n        const file = e.target.files[0];\n        if (file === undefined) return;\n\n        if (file.type.match('application/json')) {\n            const reader = new FileReader();\n            setFileName(file.name);\n\n            reader.onload = (e) => {\n                let text = reader.result;\n                let obj = JSON.parse(text);\n                \n                setImportData(obj);\n            }\n\n            reader.readAsText(file);\n        } else {\n            setImportData(null);\n            setFileName('Incorrect File Type');\n        }\n    }\n\n    const onImport = () => {\n        if (importData) {\n            setFileName('File Uploaded')\n            onUpload(importData);\n            setImportData(null);\n            fileInput.current.value = '';\n        } else {\n            setFileName('Choose a File');\n        }\n    }\n\n    const uniqueId = 'fileUpload-' + Math.floor(Math.random() * 100);\n\n    return (\n        <StyledComp>\n            <input type='file' id={uniqueId} onChange={onFileChange} ref={fileInput}/>\n            <label id='filename' htmlFor={uniqueId}>{fileName}</label>\n            <div id='uploadButton' onClick={onImport}>Upload</div>\n        </StyledComp>\n    );\n}\n\nexport default Upload;","import { useContext } from 'react';\nimport styled from 'styled-components';\n\nimport context from '../state/context';\n\nimport Container from '../components/Container';\nimport Download from '../components/Download';\nimport Upload from '../components/Upload';\n\nconst StyledComp = styled.div`\n\n`\n\nconst Settings = () => {\n    const { items, meals, planner, shoppingList, stockList, dispatch } = useContext(context);\n\n    const backupData = {\n        items,\n        meals,\n        planner,\n        shoppingList,\n        stockList\n    };\n\n    const onUpload = (data) => {\n        dispatch({type: 'RESTORE_LOCAL', payload: data});\n    }\n\n    return (\n        <StyledComp>\n            <h3>Settings</h3>\n            <Container>\n                <h4>Download Backup</h4>\n                <Download data={backupData}/>\n                <h4>Upload Backup</h4>\n                <p>This will overwrite the data currently stored for the planner.</p>\n                <Upload onUpload={onUpload}/>\n            </Container>\n        </StyledComp>\n    );\n}\n\nexport default Settings;","import './App.css';\nimport { Routes, Route } from 'react-router-dom';\n\nimport MenuBar from './components/MenuBar';\nimport ShoppingList from './pages/ShoppingList';\nimport Items from './pages/Items';\nimport Home from './pages/Home';\nimport Meals from './pages/Meals';\nimport Settings from './pages/Settings';\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<MenuBar/>\n\t\t\t<Routes>\n\t\t\t\t<Route path='/' element={<Home/>} />\n\t\t\t\t<Route path='/shoppingList' element={<ShoppingList/>} />\n\t\t\t\t<Route path='/items' element={<Items/>} />\n\t\t\t\t<Route path='/meals' element={<Meals/>} />\n\t\t\t\t<Route path='/settings' element={<Settings/>} />\n\t\t\t</Routes>\n\t\t</div>\n\t);\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useReducer, useEffect } from \"react\";\nimport { format } from \"date-fns\";\n\nimport Context from \"./context\";\n\nconst initialState = {\n    meals: [],\n    items: [],\n    planner: {\n        days: 7,\n        startDay: 'Monday',\n        people: 1,\n        showCalories: true,\n        dailyMeals: [[\n            {id: 1, day: 'Monday', breakfastId: 0, lunchId: 0, dinnerId: 0},\n            {id: 2, day: 'Tuesday', breakfastId: 0, lunchId: 0, dinnerId: 0},\n            {id: 3, day: 'Wednesday', breakfastId: 0, lunchId: 0, dinnerId: 0},\n            {id: 4, day: 'Thursday', breakfastId: 0, lunchId: 0, dinnerId: 0},\n            {id: 5, day: 'Friday', breakfastId: 0, lunchId: 0, dinnerId: 0},\n            {id: 6, day: 'Saturday', breakfastId: 0, lunchId: 0, dinnerId: 0},\n            {id: 7, day: 'Sunday', breakfastId: 0, lunchId: 0, dinnerId: 0},\n        ]]\n    },\n    shoppingList: {},\n    stockList: []\n};\n\nconst reducer = (state={}, action) => {\n    let value = action.payload;\n    // console.log(action.type, value);\n    switch(action.type) {\n        case 'SET_DAYS': return {...state, planner: {...state.planner, days: value}};\n        case 'SET_START_DAY': return {...state, planner: {...state.planner, startDay: value}};\n        case 'SET_NUMBER_PEOPLE': return {...state, planner: {...state.planner, people: value}};\n        case 'SET_SHOW_CALORIES': return {...state, planner: {...state.planner, showCalories: value}};\n        case 'SET_DAILY_MEALS': return {...state, planner: {...state.planner, dailyMeals: value}};\n\n        case 'SET_SHOPPING_LIST_ITEM_TRUE': return {...state, shoppingList: updateShoppingList(state.shoppingList, value, true)};\n        case 'SET_SHOPPING_LIST_ITEM_FALSE': return {...state, shoppingList: updateShoppingList(state.shoppingList, value, false)};\n        case 'CLEAR_SHOPPING_LIST': return {...state, shoppingList: {}};\n\n        case 'ADD_STOCK': return {...state, stockList: addToArray(value, state.stockList, true)};\n        case 'EDIT_STOCK': return {...state, stockList: editArray(value, state.stockList)};\n        case 'DELETE_STOCK': return {...state, stockList: removeFromArray(value, state.stockList)};\n        case 'CLEAR_STOCK': return {...state, stockList: []};\n\n        case 'ADD_ITEM': return {...state, items: addToArray(value, state.items)};\n        case 'EDIT_ITEM': return {...state, items: editArray(value, state.items)};\n        case 'DELETE_ITEM': return {...state, items: removeFromArray(value, state.items)};\n\n        case 'ADD_MEAL': return {...state, meals: addToArray(value, state.meals)};\n        case 'EDIT_MEAL': return {...state, meals: editArray(value, state.meals)};\n        case 'DELETE_MEAL': return {...state, meals: removeFromArray(value, state.meals)};\n\n        case 'EDIT_PLANNER_MEAL': return {...state, planner: {...state.planner, dailyMeals: editDailyMeals(value, state.planner.dailyMeals)}};\n\n        case 'RESTORE_LOCAL': return {...state, ...value};\n\n        default: return state;\n    }\n}\n\nconst updateShoppingList = (shoppingList, id, checked) => {\n    let newShoppingList = {...shoppingList};\n    newShoppingList[id] = checked;\n    if (checked === false) delete newShoppingList[id];\n    return newShoppingList;\n}\n\nconst editDailyMeals = (obj, arr=[]) => {\n    return arr.map(peopleArr => {\n        return peopleArr.map(item => item.id === obj.id ? obj : item);\n    });\n}\n\nconst addToArray = (obj, arr=[], ignoreId=false) => {\n    if (!ignoreId) obj.id = getID();\n    return [...arr, obj];\n}\n\nconst editArray = (obj, arr=[]) => {\n    return arr.map(item => item.id === obj.id ? obj : item);\n}\n\nconst removeFromArray = (obj, arr=[]) => {\n    return arr.filter(item => item.id === obj.id ? false : true);\n}\n\nconst getID = () => {\n    return format(new Date(), 'T');\n}\n\n//restoring state from local storage\nconst getFromLocalStorage = (initialValue = initialState) => {\n    let restoredState = localStorage.getItem('food-planner-state');\n    if (!restoredState) restoredState = initialState;\n    else restoredState = JSON.parse(restoredState);\n\n    if (restoredState.planner === undefined) restoredState.planner = {};\n    restoredState.planner = {...initialState.planner, ...restoredState.planner};\n\n    restoredState.switching = false;\n\n    return restoredState;\n}\n\nconst Provider = ({ children }) => {\n    const [state, dispatch] = useReducer(reducer, {}, getFromLocalStorage);\n\n    //saving state to local storage when changed\n    useEffect(() => {\n        localStorage.setItem('food-planner-state', JSON.stringify(state));\n    }, [state]);\n\n    return (\n        <Context.Provider value={{ ...state, dispatch}}>\n            { children }\n        </Context.Provider>\n    )\n}\n\nexport default Provider;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport Provider from './state/provider';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider>\n      <Router>\n        <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}